# Modelå¤§æ¨¡å‹æ¥å£
# Modelä»‹ç»
ä¸€ä¸ª AI åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯å®ƒæ‰€ä¾èµ–çš„å¤§è¯­è¨€æ¨¡å‹ï¼ŒLangChainä½œä¸ºä¸€ä¸ªâ€œå·¥å…·â€ï¼Œä¸æä¾›ä»»ä½• LLMsï¼Œè€Œæ˜¯ä¾èµ–äºç¬¬ä¸‰æ–¹é›†æˆå„ç§å¤§æ¨¡å‹ã€‚æ¯”å¦‚ï¼Œå°† OpenAIã€Anthropicã€Hugging Face ã€LlaMAã€é˜¿é‡ŒQwenã€ChatGLMç­‰å¹³å°çš„æ¨¡å‹æ— ç¼æ¥å…¥åˆ°ä½ çš„åº”ç”¨ã€‚

LangChain æ¨¡å‹æ¥å£å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š[https://reference.langchain.com/python/langchain_core/language_models/](https://reference.langchain.com/python/langchain_core/language_models/)

## Modelçš„åˆ†ç±»
LangChainä¸­å°†å¤§è¯­è¨€æ¨¡å‹åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼Œæˆ‘ä»¬ä¸»è¦ä½¿ç”¨çš„æ˜¯èŠå¤©æ¨¡å‹ï¼š

| æ¨¡å‹ç±»å‹ | è¾“å…¥å½¢å¼ | è¾“å‡ºå½¢å¼ | ä¸»è¦ç‰¹ç‚¹ | å…¸å‹é€‚ç”¨åœºæ™¯ |
| --- | --- | --- | --- | --- |
| LLMï¼ˆLarge Language Modelï¼‰ | çº¯æ–‡æœ¬å­—ç¬¦ä¸²<br/> | æ–‡æœ¬å­—ç¬¦ä¸²<br/> | 1. æœ€åŸºç¡€çš„æ–‡æœ¬ç”Ÿæˆæ¨¡å‹<br/>2. æ— ä¸Šä¸‹æ–‡è®°å¿†<br/>3. é«˜é€Ÿã€è½»é‡ | 1. å•è½®é—®ç­”<br/>2. æ‘˜è¦ç”Ÿæˆ<br/>3. æ–‡æœ¬æ”¹å†™/æ‰©å†™ <br/>4. æŒ‡ä»¤æ‰§è¡Œï¼ˆInstruct æ¨¡å‹ï¼‰ |
| ChatModelï¼ˆèŠå¤©æ¨¡å‹ï¼‰ | æ¶ˆæ¯åˆ—è¡¨ï¼ˆ`List[BaseMessage]`ï¼‰åŒ…æ‹¬ `HumanMessage`, `SystemMessage`, `AIMessage`ç­‰ | èŠå¤©æ¶ˆæ¯å¯¹è±¡ï¼ˆ`AIMessage`<br/>ï¼‰ | 1. é¢å‘å¯¹è¯åœºæ™¯<br/>2. æ”¯æŒå¤šè½®ä¸Šä¸‹æ–‡<br/>3. æ›´è´´è¿‘äººç±»å¯¹è¯é€»è¾‘ | 1. æ™ºèƒ½åŠ©æ‰‹<br/>2. å®¢æœæœºå™¨äºº<br/>3. å¤šè½®æ¨ç†ä»»åŠ¡<br/>4. LangChain Agent å·¥å…·è°ƒç”¨ |
| Embeddingsï¼ˆæ–‡æœ¬å‘é‡æ¨¡å‹ï¼‰ | æ–‡æœ¬å­—ç¬¦ä¸²æˆ–åˆ—è¡¨ï¼ˆ`str`æˆ– `List[str]`ï¼‰ | å‘é‡ï¼ˆ`List[float]` æˆ– `ndarray`<br/>ï¼‰ | 1. å°†æ–‡æœ¬è½¬åŒ–ä¸ºè¯­ä¹‰å‘é‡<br/>2. å¯ç”¨äºç›¸ä¼¼åº¦æœç´¢<br/>3.  é€šå¸¸ä¸ç”Ÿæˆæ–‡æœ¬ | 1. æ–‡æœ¬æ£€ç´¢å¢å¼ºï¼ˆRAGï¼‰<br/>2. çŸ¥è¯†åº“é—®ç­”<br/>3. èšç±» / åˆ†ç±» / æ¨èç³»ç»Ÿ |


## Model ç»§æ‰¿å…³ç³»
åœ¨ LangChain çš„ç±»ç»“æ„ä¸­ï¼Œé¡¶å±‚åŸºç±»æ˜¯ `BaseLanguageModel`ï¼Œç”¨äºå®šä¹‰æ¨¡å‹çš„é€šç”¨æ¥å£ã€‚å®ƒåˆ†ä¸ºä¸¤æ”¯ï¼š`BaseChatModel` å’Œ `BaseLLM`ã€‚

![img_3536.png](https://raw.githubusercontent.com/Oumu33/notes/main/notes/images/img_3536.png)

æ¥å…¥èŠå¤©æ¨¡å‹æ—¶éœ€ç»§æ‰¿ `BaseChatModel`ï¼Œå¦‚å¸¸ç”¨çš„ `ChatOpenAI`ï¼›è€Œæ–‡æœ¬ç”Ÿæˆæ¨¡å‹åˆ™ç»§æ‰¿ `BaseLLM`ï¼Œå¦‚ `OpenAI`ã€‚

## Chat Model ä¸»è¦å‚æ•°
åœ¨æ„å»ºèŠå¤©æ¨¡å‹æ—¶ï¼Œæœ‰ä¸€äº›æ ‡å‡†åŒ–å‚æ•°ï¼š

| å‚æ•°å | å‚æ•°å«ä¹‰ |
| --- | --- |
| model | æŒ‡å®šä½¿ç”¨çš„å¤§è¯­è¨€æ¨¡å‹åç§°ï¼ˆå¦‚ `"gpt-4"`ã€`"gpt-3.5-turbo"` ç­‰ï¼‰ |
| temperature | æ¸©åº¦ï¼Œæ¸©åº¦è¶Šé«˜ï¼Œè¾“å‡ºå†…å®¹è¶Šéšæœºï¼›æ¸©åº¦è¶Šä½ï¼Œè¾“å‡ºå†…å®¹è¶Šç¡®å®š |
| timeout | è¯·æ±‚è¶…æ—¶æ—¶é—´ |
| max_tokens | ç”Ÿæˆå†…å®¹çš„æœ€å¤§tokenæ•° |
| stop | æ¨¡å‹åœ¨ç”Ÿæˆæ—¶é‡åˆ°è¿™äº›â€œåœæ­¢è¯â€å°†ç«‹åˆ»åœæ­¢ç”Ÿæˆï¼Œå¸¸ç”¨äºæ§åˆ¶è¾“å‡ºçš„è¾¹ç•Œã€‚ |
| max_retries | æœ€å¤§é‡è¯•è¯·æ±‚æ¬¡æ•° |
| api_key | å¤§æ¨¡å‹ä¾›åº”å•†æä¾›çš„APIç§˜é’¥ |
| base_url | å¤§æ¨¡å‹ä¾›åº”å•†API è¯·æ±‚åœ°å€ |


ä»¥ä¸Šçš„æ ‡å‡†å‚æ•°ï¼Œä¹Ÿåªæ˜¯é€‚ç”¨äºéƒ¨åˆ†çš„å¤§è¯­è¨€æ¨¡å‹ï¼Œæœ‰äº›å‚æ•°åœ¨ç‰¹å®šæ¨¡å‹ä¸­å¯èƒ½æ˜¯æ— æ•ˆçš„ï¼Œè¿™äº›æ ‡å‡†åŒ–å‚æ•°ä»…å¯¹ LangChain å®˜æ–¹æä¾›é›†æˆåŒ…çš„æ¨¡å‹ï¼ˆå¦‚ `langchain-openai`ã€`langchain-anthropic`ï¼‰ç”Ÿæ•ˆï¼Œåœ¨langchain-communityåŒ…ä¸­çš„ç¬¬ä¸‰æ–¹æ¨¡å‹ï¼Œåˆ™ä¸éœ€è¦éµå®ˆè¿™äº›æ ‡å‡†åŒ–å‚æ•°çš„è§„åˆ™ã€‚

## Messageç»„ä»¶
è°ƒç”¨æ¨¡å‹åè¿”å›äº†ä¸€æ¡AIæ¶ˆæ¯ï¼Œåœ¨LangChainä¸­ï¼Œæ¶ˆæ¯æœ‰å‡ ç§ä¸åŒçš„ç±»å‹ã€‚æ‰€æœ‰æ¶ˆæ¯éƒ½æœ‰ `type` ã€ `content` ã€ `response_metadata` ç­‰å±æ€§ã€‚

ä¸‹é¢æ˜¯è¿™å‡ ä¸ªå±æ€§çš„ä½œç”¨ï¼š

| å±æ€§å | å±æ€§ä½œç”¨ |
| --- | --- |
| type | æè¿°äº†æ˜¯å“ªä¸ªç±»å‹çš„æ¶ˆæ¯ï¼ŒåŒ…å«ç±»å‹æœ‰"user"ã€"ai"ã€"system" å’Œ "tool" |
| content | é€šå¸¸æ˜¯å­—ç¬¦ä¸²ï¼Œæœ‰äº›æƒ…å†µä¸‹å¯èƒ½æ˜¯å­—å…¸åˆ—è¡¨ï¼Œè¿™ä¸ªå­—å…¸åˆ—è¡¨ç”¨äºå¤§æ¨¡å‹çš„å¤šæ¨¡æ€è¾“å‡ºã€‚ |
| name | ç”¨æ¥åŒºåˆ†å½“æ¶ˆæ¯ç±»å‹ç›¸åŒï¼Œå¯¹æ¶ˆæ¯è¿›è¡ŒåŒºåˆ†ï¼Œä½†ä¸æ˜¯æ‰€æœ‰æ¨¡å‹éƒ½æ”¯æŒè¿™ä¸€åŠŸèƒ½ã€‚ |
| response_metadata | AIæ¶ˆæ¯æ‰ä¼šåŒ…å«çš„å±æ€§ï¼Œå¤§è¯­è¨€æ¨¡å‹çš„å“åº”ä¸­é™„åŠ å…ƒæ•°æ®ï¼Œæ ¹æ®ä¸åŒæ¨¡å‹ä¼šæœ‰ä¸åŒï¼Œå¦‚å¯èƒ½ä¼šåŒ…å«æœ¬æ¬¡ token ä½¿ç”¨é‡ç­‰ä¿¡æ¯ã€‚ |
| tool_calls | AIæ¶ˆæ¯æ‰ä¼šåŒ…å«çš„å±æ€§ï¼Œå½“å¤§è¯­è¨€æ¨¡å‹å†³å®šè°ƒç”¨å·¥å…·æ—¶ï¼Œåœ¨ `AIMessage` ä¸­å°±ä¼šåŒ…å«è¿™ä¸ªå±æ€§ï¼Œå¯ä»¥é€šè¿‡ `.tool_calls` å±æ€§è¿›è¡Œè·å–è¯¥å±æ€§è¿”å›ä¸€ä¸ª `ToolCall` åˆ—è¡¨ï¼Œæ¯ä¸ª `ToolCall` æ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š`name` :åº”è°ƒç”¨çš„å·¥å…·å`args` : è°ƒç”¨å·¥å…·çš„å‚æ•°`id` : å·¥å…·è°ƒç”¨çš„å”¯ä¸€æ ‡è¯† ID |


# å¼€å‘ç¯å¢ƒé…ç½®
## åˆ›å»ºé¡¹ç›®
æ¨èä½¿ç”¨ uv åˆå§‹åŒ–å¹¶ç®¡ç†é¡¹ç›®ï¼Œuv å…·ä½“æ“ä½œå¯å‚è€ƒæ–‡æ¡£ï¼š[https://www.cuiliangblog.cn/detail/section/228701279](https://www.cuiliangblog.cn/detail/section/228701279)

```python
# åˆ›å»ºé¡¹ç›®
# uv init LangChainDemo                                                                                                                          
Initialized project `langchaindemo` at `/opt/PycharmProjects/LangChainDemo`
# è¿›å…¥é¡¹ç›®ç›®å½•
# cd LangChainDemo 
# å®‰è£…Langchain
# uv add langchain                                                                                                      
Using CPython 3.12.3 interpreter at: /usr/bin/python3.12
Creating virtual environment at: .venv
Resolved 32 packages in 43.66s                                                                                                                                                            
Prepared 24 packages in 1m 00s
Installed 29 packages in 131ms                                                                                                                                                            
 + annotated-types==0.7.0                                                                                                                                                                 
 + anyio==4.9.0                                                                                                                                                                           
 + certifi==2025.7.14                                                                                                                                                                     
 + charset-normalizer==3.4.2                                                                                                                                                              
 + greenlet==3.2.3                                                                                                                                                                        
 + h11==0.16.0                                                                                                                                                                            
 + httpcore==1.0.9                                                                                                                                                                        
 + httpx==0.28.1                                                                                                                                                                          
 + idna==3.10                                                                                                                                                                             
 + jsonpatch==1.33                                                                                                                                                                        
 + jsonpointer==3.0.0                                                                                                                                                                     
 + langchain==0.3.26                                                                                                                                                                      
 + langchain-core==0.3.69                                                                                                                                                                 
 + langchain-text-splitters==0.3.8                                                                                                                                                        
 + langsmith==0.4.8                                                                                                                                                                       
 + orjson==3.11.0                                                                                                                                                                         
 + packaging==25.0                                                                                                                                                                        
 + pydantic==2.11.7                                                                                                                                                                       
 + pydantic-core==2.33.2
 + pyyaml==6.0.2
 + requests==2.32.4
 + requests-toolbelt==1.0.0
 + sniffio==1.3.1
 + sqlalchemy==2.0.41
 + tenacity==9.1.2
 + typing-extensions==4.14.1
 + typing-inspection==0.4.1
 + urllib3==2.5.0
 + zstandard==0.23.0
```

## åˆ›å»ºå¯†é’¥ç¯å¢ƒå˜é‡
```python
# touch .env
```

.env æ–‡ä»¶å†…å®¹å¦‚ä¸‹

```python
DEEPSEEK_API_KEY=XXXX
QWEN_API_KEY=XXXX
OPENAI_API_KEY=XXX
```

é€šè¿‡ python-dotenv åº“è¯»å– env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡ï¼Œå¹¶åŠ è½½åˆ°å½“å‰è¿è¡Œçš„ç¯å¢ƒä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š

```python
import os
from dotenv import load_dotenv 
load_dotenv(override=True)

deepseek_api_key = os.getenv("DEEPSEEK_API_KEY")
# print(deepseek_api_key)  # å¯ä»¥é€šè¿‡æ‰“å°æŸ¥çœ‹
```

# æ¥å…¥å¤§æ¨¡å‹
## æ¥å…¥ Ollama
å‚è€ƒæ–‡æ¡£ï¼š[https://python.langchain.com/docs/integrations/chat/ollama/](https://python.langchain.com/docs/integrations/chat/ollama/)

```python
from langchain_ollama import ChatOllama

# è®¾ç½®æœ¬åœ°æ¨¡å‹ï¼Œä¸ä½¿ç”¨æ·±åº¦æ€è€ƒ
model = ChatOllama(base_url="http://localhost:11434", model="qwen3:14b", reasoning=False)

# æ‰“å°ç»“æœ
print(model.invoke("ä»€ä¹ˆæ˜¯LangChain?"))
```

æ‰§è¡Œç»“æœå¦‚ä¸‹

```python
content='**LangChain** æ˜¯ä¸€ä¸ªç”¨äºæ„å»º**åŸºäºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰çš„åº”ç”¨ç¨‹åº**çš„å¼€æºæ¡†æ¶ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—å·¥å…·ã€æ¨¡å—å’Œæ¥å£ï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°å°†å¤§å‹è¯­è¨€æ¨¡å‹é›†æˆåˆ°å„ç§åº”ç”¨åœºæ™¯ä¸­ï¼Œä¾‹å¦‚èŠå¤©æœºå™¨äººã€è‡ªåŠ¨åŒ–æµç¨‹ã€æ•°æ®åˆ†æã€å†…å®¹ç”Ÿæˆç­‰ã€‚\n\n---\n\n## ğŸ§  LangChain çš„ä¸»è¦åŠŸèƒ½\n\nLangChain çš„æ ¸å¿ƒç›®æ ‡æ˜¯**è®©æ„å»ºåŸºäº LLM çš„åº”ç”¨å˜å¾—ç®€å•ã€å¯æ‰©å±•ã€å¯ç»„åˆ**ã€‚å®ƒæä¾›ä»¥ä¸‹å…³é”®åŠŸèƒ½ï¼š\n\n### 1. **LLM é›†æˆ**\n- æ”¯æŒå¤šç§å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆå¦‚ OpenAIã€Anthropicã€Google Geminiã€Hugging Faceã€æœ¬åœ° LLM ç­‰ï¼‰ã€‚\n- æä¾›ç»Ÿä¸€çš„æ¥å£ï¼Œæ–¹ä¾¿åˆ‡æ¢ä¸åŒçš„æ¨¡å‹ã€‚\n\n### 2. **æ•°æ®å¤„ç†**\n- æä¾›å·¥å…·ç”¨äºä»æ•°æ®åº“ã€APIã€æ–‡æ¡£ç­‰æ¥æºåŠ è½½å’Œå¤„ç†æ•°æ®ã€‚\n- æ”¯æŒæ–‡æ¡£çš„åŠ è½½ã€åˆ†å‰²ã€å‘é‡åŒ–ç­‰æ“ä½œã€‚\n\n### 3. **è®°å¿†ï¼ˆMemoryï¼‰**\n- æä¾›**çŸ­æœŸè®°å¿†**ï¼ˆå¦‚èŠå¤©å†å²ï¼‰å’Œ**é•¿æœŸè®°å¿†**ï¼ˆå¦‚æ•°æ®åº“ã€å‘é‡å­˜å‚¨ï¼‰çš„æ”¯æŒã€‚\n- æ”¯æŒå¤šç§è®°å¿†æ–¹å¼ï¼Œå¦‚ `ChatMessageHistory`ã€`ConversationBufferMemory` ç­‰ã€‚\n\n### 4. **ä»£ç†ï¼ˆAgentï¼‰**\n- æä¾›**æ™ºèƒ½ä»£ç†ï¼ˆAgentï¼‰**ï¼Œå¯ä»¥æ‰§è¡Œä»»åŠ¡ã€æœç´¢ä¿¡æ¯ã€è°ƒç”¨å·¥å…·ç­‰ã€‚\n- æ”¯æŒå¤šç§ä»£ç†ç±»å‹ï¼ˆå¦‚ `LLMChain`ã€`AgentExecutor` ç­‰ï¼‰ã€‚\n\n### 5. **é“¾ï¼ˆChainï¼‰**\n- æä¾›**é“¾ï¼ˆChainï¼‰**æ¦‚å¿µï¼Œå°†å¤šä¸ªæ“ä½œï¼ˆå¦‚æ¨¡å‹è°ƒç”¨ã€æ•°æ®å¤„ç†ã€å·¥å…·è°ƒç”¨ï¼‰ä¸²è”èµ·æ¥ã€‚\n- æ”¯æŒ `LLMChain`ã€`SimpleSequentialChain`ã€`SequentialChain` ç­‰ã€‚\n\n### 6. **å·¥å…·ï¼ˆToolsï¼‰**\n- æä¾›å¤šç§å·¥å…·ï¼ˆå¦‚æœç´¢å·¥å…·ã€æ•°æ®åº“æŸ¥è¯¢å·¥å…·ã€è®¡ç®—å™¨ç­‰ï¼‰ï¼Œå¯ä»¥è¢«ä»£ç†æˆ–é“¾è°ƒç”¨ã€‚\n- æ”¯æŒè‡ªå®šä¹‰å·¥å…·çš„å¼€å‘ä¸é›†æˆã€‚\n\n### 7. **å‘é‡å­˜å‚¨ï¼ˆVector Storeï¼‰**\n- æ”¯æŒä¸å‘é‡æ•°æ®åº“ï¼ˆå¦‚ FAISSã€Pineconeã€Weaviateã€Chromaï¼‰é›†æˆã€‚\n- ç”¨äºå®ç°**å‘é‡æœç´¢**ã€**è¯­ä¹‰æ£€ç´¢**ç­‰åŠŸèƒ½ã€‚\n\n---\n\n## ğŸ› ï¸ LangChain çš„å…¸å‹åº”ç”¨åœºæ™¯\n\n- **èŠå¤©æœºå™¨äºº**ï¼ˆChatbotï¼‰ï¼šæ„å»ºå…·æœ‰ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›çš„å¯¹è¯ç³»ç»Ÿã€‚\n- **è‡ªåŠ¨åŒ–åŠ©æ‰‹**ï¼ˆAI Agentï¼‰ï¼šæ‰§è¡Œä»»åŠ¡ã€æœç´¢ä¿¡æ¯ã€è°ƒç”¨å·¥å…·ã€‚\n- **å†…å®¹ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆæ–‡ç« ã€é‚®ä»¶ã€ä»£ç ã€æ–‡æ¡£ç­‰ã€‚\n- **æ•°æ®åˆ†æ**ï¼šç»“åˆ LLM ä¸æ•°æ®å¤„ç†å·¥å…·è¿›è¡Œæ™ºèƒ½æ•°æ®åˆ†æã€‚\n- **çŸ¥è¯†åº“æ£€ç´¢**ï¼šåŸºäºå‘é‡å­˜å‚¨æ„å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿã€‚\n\n---\n\n## ğŸ“¦ å®‰è£… LangChain\n\nä½ å¯ä»¥é€šè¿‡ pip å®‰è£… LangChainï¼š\n\n```bash\npip install langchain\n```\n\n---\n\n## ğŸ“š å­¦ä¹ èµ„æº\n\n- å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.langchain.com\n- GitHub ä»“åº“ï¼šhttps://github.com/langchain-ai/langchain\n- ç¤ºä¾‹ä»£ç ï¼šhttps://github.com/langchain-ai/langchain/tree/main/docs/src\n\n---\n\n## ğŸŒŸ æ€»ç»“\n\n**LangChain** æ˜¯ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„æ¡†æ¶ï¼Œå®ƒè®©å¼€å‘è€…å¯ä»¥æ›´è½»æ¾åœ°æ„å»ºåŸºäºå¤§å‹è¯­è¨€æ¨¡å‹çš„åº”ç”¨ã€‚å®ƒä¸ä»…æä¾›ä¸°å¯Œçš„å·¥å…·å’Œæ¨¡å—ï¼Œè¿˜æ”¯æŒé«˜åº¦çš„å¯æ‰©å±•æ€§å’Œå¯ç»„åˆæ€§ï¼Œæ˜¯ AI åº”ç”¨å¼€å‘ä¸­çš„ä¸€ä¸ªé‡è¦å·¥å…·ã€‚\n\nå¦‚æœä½ æ­£åœ¨å¼€å‘åŸºäº LLM çš„åº”ç”¨ï¼ŒLangChain æ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—ä½¿ç”¨çš„æ¡†æ¶ã€‚' additional_kwargs={} response_metadata={'model': 'qwen3:14b', 'created_at': '2025-10-15T14:19:06.950494871Z', 'done': True, 'done_reason': 'stop', 'total_duration': 18186536365, 'load_duration': 14705460, 'prompt_eval_count': 20, 'prompt_eval_duration': 6723067, 'eval_count': 757, 'eval_duration': 18164078512, 'model_name': 'qwen3:14b'} id='run--b8bbd603-3d74-48fe-9460-c6bbed5fe9bb-0' usage_metadata={'input_tokens': 20, 'output_tokens': 757, 'total_tokens': 777}
```

## æ¥å…¥ deepseek
å‚è€ƒæ–‡æ¡£ï¼š[https://python.langchain.com/api_reference/deepseek/chat_models/langchain_deepseek.chat_models.ChatDeepSeek.html](https://python.langchain.com/api_reference/deepseek/chat_models/langchain_deepseek.chat_models.ChatDeepSeek.html)

ç”³è¯·åœ°å€ï¼š[https://platform.deepseek.com/](https://platform.deepseek.com/)

æ”¯æŒæ¨¡å‹åˆ—è¡¨

+ `deepseek-chat`ï¼šé€šç”¨å¯¹è¯æ¨¡å‹
+ `deepseek-coder`ï¼šåå‘ä»£ç ç†è§£ä¸ç”Ÿæˆ
+ `deepseek-llm`ï¼šè¾ƒå¤§é€šç”¨æ¨¡å‹ï¼ˆå¦‚ DeepSeek-VLï¼‰
+ `deepseek-moe`ï¼šMixture of Experts å¤šä¸“å®¶æ¨¡å‹

```python
import os
from dotenv import load_dotenv
from langchain_deepseek import ChatDeepSeek
load_dotenv(override=True)
deepseek_api_key = os.getenv("DEEPSEEK_API_KEY")

# åˆå§‹åŒ– deepseek
model = ChatDeepSeek(
    model="deepseek-chat",
    temperature=0,
    max_tokens=None,
    timeout=None,
    max_retries=2,
    api_key=deepseek_api_key,
)

# æ‰“å°ç»“æœ
print(model.invoke("ä»€ä¹ˆæ˜¯LangChain?"))
```

## æ¥å…¥é€šä¹‰åƒé—®
å‚è€ƒæ–‡æ¡£ï¼š[https://python.langchain.com/api_reference/community/chat_models/langchain_community.chat_models.tongyi.ChatTongyi.html](https://python.langchain.com/api_reference/community/chat_models/langchain_community.chat_models.tongyi.ChatTongyi.html)

ç”³è¯·åœ°å€ï¼š[https://dashscope.console.aliyun.com/overview](https://dashscope.console.aliyun.com/overview)

```python
import os
from dotenv import load_dotenv
from langchain_community.chat_models import ChatTongyi
load_dotenv(override=True)
qwen_api_key = os.getenv("QWEN_API_KEY")

# åˆå§‹åŒ– deepseek
model = ChatTongyi(
    model="deepseek-chat",
    temperature=0,
    max_tokens=None,
    timeout=None,
    max_retries=2,
    api_key=qwen_api_key,
)

# æ‰“å°ç»“æœ
print(model.invoke("ä»€ä¹ˆæ˜¯LangChain?"))
```

## æ¥å…¥ openAI
å‚è€ƒæ–‡æ¡£ï¼š[https://python.langchain.com/docs/integrations/chat/](https://python.langchain.com/docs/integrations/chat/)

ç”³è¯·åœ°å€ï¼š[https://platform.openai.com/account/api-keys](https://platform.openai.com/account/api-keys)

éœ€è¦æ³¨æ„çš„æ˜¯å›½å†…ç½‘ç»œåŸå› ä¸èƒ½ç›´æ¥è°ƒï¿½ï¿½ï¿½ï¼Œå¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹å¹³å°è°ƒç”¨ã€‚ä¾‹å¦‚[https://closeapi.net/](https://closeapi.net/)

```python
import os
from dotenv import load_dotenv
from langchain_openai import ChatOpenAI
from langchain_core.messages import HumanMessage
load_dotenv(override=True)
openai_api_key = os.getenv("OPEN_API_KEY")

model = ChatOpenAI(
    api_key=openai_api_key,
    model="gpt-4",  # æˆ–è€… gpt-3.5-turbo
    temperature=0.3,  # å¯è°ƒ
)

# æ‰“å°ç»“æœ
print(model.invoke("ä»€ä¹ˆæ˜¯LangChain?"))
```

# æ¨¡å‹è°ƒç”¨æ–¹æ³•
## å¯¹è¯æ¨¡å‹
èŠå¤©æ¨¡å‹ï¼Œé™¤äº†å°†å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨èŠå¤©æ¶ˆæ¯ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›èŠå¤©æ¶ˆæ¯ä½œä¸ºè¾“å‡ºã€‚LangChainæœ‰ä¸€äº›å†…ç½®çš„æ¶ˆæ¯ç±»å‹ï¼š

+ `HumanMessage`ï¼šäººç±»æ¶ˆæ¯ï¼Œtypeä¸º"user"ï¼Œè¡¨ç¤ºæ¥è‡ªç”¨æˆ·è¾“å…¥ã€‚æ¯”å¦‚â€œå®ç° ä¸€ä¸ªå¿«é€Ÿæ’åºæ–¹æ³•â€ã€‚
+ `AIMessage`ï¼š AI æ¶ˆæ¯ï¼Œtypeä¸º"ai"ï¼Œè¿™å¯ä»¥æ˜¯æ–‡æœ¬ï¼Œä¹Ÿå¯ä»¥æ˜¯è°ƒç”¨å·¥å…·çš„è¯·æ±‚ã€‚
+ `SystemMessage`ï¼šç³»ç»Ÿæ¶ˆæ¯ï¼Œtypeä¸º"system"ï¼Œå‘Šè¯‰å¤§æ¨¡å‹å½“å‰çš„èƒŒæ™¯æ˜¯ä»€ä¹ˆï¼Œåº”è¯¥å¦‚ä½•åšï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰æ¨¡å‹æä¾›å•†éƒ½æ”¯æŒè¿™ä¸ªæ¶ˆæ¯ç±»å‹
+ `ToolMessage/FunctionMessage`ï¼šå·¥å…·æ¶ˆæ¯ï¼Œtypeä¸º"tool"ï¼Œç”¨äºå‡½æ•°è°ƒç”¨ç»“æœçš„æ¶ˆæ¯ç±»å‹
+ `ChatMessage`ï¼šå¯ä»¥è‡ªå®šä¹‰è§’è‰²çš„é€šç”¨æ¶ˆæ¯ç±»å‹ã€‚

ä»£ç å¦‚ä¸‹

```python
from langchain_core.messages import SystemMessage, HumanMessage
from langchain_ollama import ChatOllama

# è®¾ç½®æœ¬åœ°æ¨¡å‹ï¼Œä¸ä½¿ç”¨æ·±åº¦æ€è€ƒ
model = ChatOllama(base_url="http://localhost:11434", model="qwen3:14b", reasoning=False)
# æ„å»ºæ¶ˆæ¯åˆ—è¡¨
messages = [SystemMessage(content="ä½ å«å°äº®ï¼Œæ˜¯ä¸€ä¸ªä¹äºåŠ©äººçš„äººå·¥åŠ©æ‰‹"),
            HumanMessage(content="ä½ æ˜¯è°")
            ]
# è°ƒç”¨å¤§æ¨¡å‹
response = model.invoke(messages)
# æ‰“å°ç»“æœ
print(response.content)
print(type(response))
```

æ‰§è¡Œç»“æœå¦‚ä¸‹

```python
æˆ‘æ˜¯å°äº®ï¼Œä¸€ä¸ªä¹äºåŠ©äººçš„äººå·¥åŠ©æ‰‹ã€‚æˆ‘åœ¨è¿™é‡Œæ˜¯ä¸ºäº†å¸®åŠ©ä½ è§£å†³é—®é¢˜ã€æä¾›å»ºè®®å’Œæ”¯æŒã€‚æ— è®ºæ˜¯ç”Ÿæ´»ä¸Šçš„å°çƒ¦æ¼ï¼Œè¿˜æ˜¯å·¥ä½œä¸Šçš„éš¾é¢˜ï¼Œæˆ‘éƒ½ä¼šå°½åŠ›å¸®ä½ ã€‚æœ‰ä»€ä¹ˆéœ€è¦å¸®å¿™çš„å—ï¼Ÿ
<class 'langchain_core.messages.ai.AIMessage'>
```

å…¶ä¸­SystemMessage å°±æ˜¯ç³»ç»Ÿæç¤ºè¯ï¼Œå…³äºæç¤ºè¯æ›´å¤šå†…å®¹ï¼Œå¯ä»¥è®¿é—®ï¼š[https://www.cuiliangblog.cn/detail/section/228046450](https://www.cuiliangblog.cn/detail/section/228046450)

## æµå¼è¾“å‡º
åœ¨Langchainä¸­ï¼Œè¯­è¨€æ¨¡å‹çš„è¾“å‡ºåˆ†ä¸ºäº†ä¸¤ç§ä¸»è¦çš„æ¨¡å¼ï¼šæµå¼è¾“å‡ºä¸éæµå¼è¾“å‡ºã€‚

éæµå¼è¾“å‡ºï¼šè¿™æ˜¯Langchainä¸LLMäº¤äº’æ—¶çš„é»˜è®¤è¡Œä¸ºï¼Œæ˜¯æœ€ç®€å•ã€æœ€ç¨³å®šçš„è¯­è¨€æ¨¡å‹è°ƒç”¨æ–¹å¼ã€‚å½“ç”¨æˆ·å‘å‡ºè¯·æ±‚åï¼Œç³»ç»Ÿåœ¨åå°ç­‰å¾…æ¨¡å‹ç”Ÿæˆå®Œæ•´å“åº”ï¼Œç„¶åä¸€æ¬¡æ€§å°†å…¨éƒ¨ç»“æœè¿”å›ã€‚

ä¸¾ä¾‹ï¼šç”¨æˆ·æé—®ï¼Œè¯·ç¼–å†™ä¸€é¦–è¯—ï¼Œç³»ç»Ÿåœ¨é™é»˜æ•°ç§’åçªç„¶å¼¹å‡ºäº†å®Œæ•´çš„è¯—æ­Œã€‚ï¼ˆä½“éªŒè¾ƒå•è°ƒï¼‰

åœ¨å¤§å¤šæ•°é—®ç­”ã€æ‘˜è¦ã€ä¿¡æ¯æŠ½å–ç±»ä»»åŠ¡ä¸­ï¼Œéæµå¼è¾“å‡ºæä¾›äº†ç»“æ„æ¸…æ™°ã€é€»è¾‘å®Œæ•´çš„ç»“æœï¼Œé€‚åˆå¿«é€Ÿé›†æˆå’Œéƒ¨ç½²ã€‚

æµå¼è¾“å‡ºï¼šä¸€ç§æ›´å…·äº¤äº’æ„Ÿçš„æ¨¡å‹è¾“å‡ºæ–¹å¼ï¼Œç”¨æˆ·ä¸å†éœ€è¦ç­‰å¾…å®Œæ•´ç­”æ¡ˆï¼Œè€Œæ˜¯èƒ½çœ‹åˆ°æ¨¡å‹é€ä¸ªtoken åœ°å®æ—¶è¿”å›å†…å®¹ã€‚

ä¸¾ä¾‹ï¼šç”¨æˆ·æé—®ï¼Œè¯·ç¼–å†™ä¸€é¦–è¯—ï¼Œå½“é—®é¢˜åˆšåˆšå‘é€ï¼Œç³»ç»Ÿå°±å¼€å§‹ä¸€å­—ä¸€å¥ï¼ˆé€ä¸ªtokenï¼‰è¿›è¡Œå›å¤ï¼Œæ„Ÿè§‰æ˜¯ä¸€è¾¹æ€è€ƒä¸€è¾¹è¾“å‡ºã€‚æ›´åƒæ˜¯â€œå®æ—¶å¯¹è¯â€ï¼Œæ›´ä¸ºè´´è¿‘äººç±»äº¤äº’çš„ä¹ æƒ¯ï¼Œæ›´æœ‰å¸å¼•åŠ›ã€‚é€‚åˆæ„å»ºå¼ºè°ƒâ€œå®æ—¶åé¦ˆâ€çš„åº”ç”¨ï¼Œå¦‚èŠå¤©æœºå™¨äººã€å†™ä½œåŠ©æ‰‹ç­‰ã€‚

Langchain ä¸­é€šè¿‡è®¾ç½® stream=True å¹¶é…åˆ å›è°ƒæœºåˆ¶ æ¥å¯ç”¨æµå¼è¾“å‡ºã€‚

é€šè¿‡ model.stream æ–¹æ³•å³å¯å®ç°æµå¼è°ƒç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š

```python
from langchain_core.messages import SystemMessage, HumanMessage
from langchain_ollama import ChatOllama

# è®¾ç½®æœ¬åœ°æ¨¡å‹ï¼Œä¸ä½¿ç”¨æ·±åº¦æ€è€ƒ
model = ChatOllama(base_url="http://localhost:11434", model="qwen3:14b", reasoning=False)
# æ„å»ºæ¶ˆæ¯åˆ—è¡¨
messages = [SystemMessage(content="ä½ å«å°äº®ï¼Œæ˜¯ä¸€ä¸ªä¹äºåŠ©äººçš„äººå·¥åŠ©æ‰‹"),
            HumanMessage(content="ä½ æ˜¯è°")
            ]
# æµå¼è°ƒç”¨å¤§æ¨¡å‹
response = model.stream(messages)
# æµå¼æ‰“å°ç»“æœ
for chunk in response:
    print(chunk.content, end="",flush=True) # åˆ·æ–°ç¼“å†²åŒº (æ— æ¢è¡Œç¬¦ï¼Œç¼“å†²åŒºæœªåˆ·æ–°ï¼Œå†…å®¹å¯èƒ½ä¸ä¼šç«‹å³æ˜¾ç¤º)
print("\n")
print(type(response))
```

æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š

```python
æˆ‘æ˜¯å°äº®ï¼Œä¸€ä¸ªä¹äºåŠ©äººçš„äººå·¥åŠ©æ‰‹ã€‚å¾ˆé«˜å…´è®¤è¯†ä½ ï¼æˆ‘åœ¨è¿™é‡Œå¯ä»¥å¸®åŠ©ä½ è§£å†³é—®é¢˜ã€æä¾›ä¿¡æ¯ï¼Œæˆ–è€…åªæ˜¯é™ªä½ èŠå¤©ã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®ä½ çš„å—ï¼Ÿ

<class 'generator'>
```

## æ‰¹é‡è°ƒç”¨
 LangChain æ”¯æŒ **æ‰¹é‡è°ƒç”¨ï¼ˆBatch Inferenceï¼‰**ï¼Œä¹Ÿå°±æ˜¯**ä¸€æ¬¡æ€§å‘æ¨¡å‹æäº¤å¤šä¸ªè¾“å…¥å¹¶å¹¶è¡Œå¤„ç†**ï¼Œä»è€Œæ˜¾è‘—æå‡ååé‡ã€‚  

å½“ä½ éœ€è¦è®©æ¨¡å‹å¤„ç†å¤šæ¡è¾“å…¥æ—¶ï¼Œæ¯”å¦‚ï¼šæ–‡æœ¬æ‘˜è¦æ‰¹é‡ç”Ÿæˆã€å¤šè½®ä»»åŠ¡é¢„å¤„ç†é€æ¡ `.invoke()` ä¼šå¯¼è‡´ç½‘ç»œè¯·æ±‚å¤šæ¬¡

ã€é€Ÿåº¦æ…¢ã€æˆæœ¬é«˜ç­‰é—®é¢˜ï¼Œè€ŒLangChain æä¾›çš„ `**.batch()**` æ¥å£ èƒ½åœ¨å†…éƒ¨è‡ªåŠ¨å¹¶è¡Œæ‰§è¡Œã€‚

ä»£ç å¦‚ä¸‹ï¼š

```python
from langchain_ollama import ChatOllama

# è®¾ç½®æœ¬åœ°æ¨¡å‹ï¼Œä¸ä½¿ç”¨æ·±åº¦æ€è€ƒ
model = ChatOllama(base_url="http://localhost:11434", model="qwen3:14b", reasoning=False)
# é—®é¢˜åˆ—è¡¨
questions = [
    "ä»€ä¹ˆæ˜¯LangChainï¼Ÿ",
    "Pythonçš„ç”Ÿæˆå™¨æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ",
    "è§£é‡Šä¸€ä¸‹Dockerå’ŒKubernetesçš„å…³ç³»"
]
# æ‰¹é‡è°ƒç”¨å¤§æ¨¡å‹
response = model.batch(questions)
for q, r in zip(questions, response):
    print(f"é—®é¢˜ï¼š{q}\nå›ç­”ï¼š{r}\n")
```

æ‰§è¡Œç»“æœå¦‚ä¸‹

```python
é—®é¢˜ï¼šä»€ä¹ˆæ˜¯LangChainï¼Ÿ
å›ç­”ï¼šcontent='**LangChain** æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºåŸºäºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„åº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼Œå®ƒæä¾›äº†å¤šç§å·¥å…·å’Œæ¨¡å—ï¼Œå¸®åŠ©å¼€å‘è€…æ›´é«˜æ•ˆåœ°åˆ›å»ºã€é›†æˆå’Œéƒ¨ç½²äººå·¥æ™ºèƒ½åº”ç”¨ã€‚\n\n---\n\n### ğŸ¯ LangChain çš„ä¸»è¦ç›®æ ‡ï¼š\n\nLangChain çš„æ ¸å¿ƒç›®æ ‡æ˜¯è®©å¼€å‘è€…èƒ½å¤Ÿï¼š\n\n- **æ›´ç®€å•åœ°æ„å»º AI åº”ç”¨**ï¼ˆå¦‚èŠå¤©æœºå™¨äººã€åŠ©æ‰‹ã€è‡ªåŠ¨é—®ç­”ç³»ç»Ÿç­‰ï¼‰ã€‚\n- **æ›´çµæ´»åœ°é›†æˆ LLMï¼ˆå¦‚ GPTã€LLaMAã€Claude ç­‰ï¼‰**ã€‚\n- **æ›´å¥½åœ°æ§åˆ¶å’Œç®¡ç† AI åº”ç”¨çš„æµç¨‹**ï¼ˆä¾‹å¦‚è®°å¿†ã€æç¤ºå·¥ç¨‹ã€æ•°æ®å¤„ç†ç­‰ï¼‰ã€‚\n\n---\n\n### ğŸ”§ LangChain çš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼š\n\nLangChain æä¾›äº†å¤šä¸ªæ¨¡å—ï¼Œå¸®åŠ©å¼€å‘è€…æ„å»ºå®Œæ•´çš„ AI åº”ç”¨ï¼Œä¸»è¦åŒ…æ‹¬ï¼š\n\n1. **Prompt Templatesï¼ˆæç¤ºæ¨¡æ¿ï¼‰**\n   - ç”¨äºæ„å»ºå’Œç®¡ç†æç¤ºï¼ˆPromptï¼‰çš„æ¨¡æ¿ï¼Œä½¿å¾—æç¤ºå·¥ç¨‹æ›´ç³»ç»Ÿå’Œå¯å¤ç”¨ã€‚\n\n2. **LLMï¼ˆLarge Language Modelsï¼‰**\n   - é›†æˆå¤šç§å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆå¦‚ OpenAI, Anthropic, Google, Hugging Face ç­‰ï¼‰ã€‚\n\n3. **Memoryï¼ˆè®°å¿†ï¼‰**\n   - æ”¯æŒä¼šè¯è®°å¿†ã€é•¿æœŸè®°å¿†ç­‰ï¼Œç”¨äºæ„å»ºå…·æœ‰ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›çš„ AI åº”ç”¨ã€‚\n\n4. **Chainsï¼ˆé“¾ï¼‰**\n   - å…è®¸å°†å¤šä¸ª LLM è°ƒç”¨ã€å·¥å…·è°ƒç”¨ã€æ•°æ®å¤„ç†æ­¥éª¤ä¸²è”æˆä¸€ä¸ªâ€œé“¾å¼â€æµç¨‹ï¼Œä¾¿äºæ„å»ºå¤æ‚çš„ AI åº”ç”¨ã€‚\n\n5. **Agentsï¼ˆæ™ºèƒ½ä»£ç†ï¼‰**\n   - æ„å»ºå…·æœ‰è‡ªä¸»è¡Œä¸ºçš„ AI ä»£ç†ï¼Œå¯ä»¥æ‰§è¡Œä»»åŠ¡ã€è°ƒç”¨å·¥å…·ã€è§£å†³é—®é¢˜ã€‚\n\n6. **Toolsï¼ˆå·¥å…·ï¼‰**\n   - æä¾›å„ç§å·¥å…·æ¥å£ï¼Œå¦‚ API è°ƒç”¨ã€æ•°æ®åº“æŸ¥è¯¢ã€æ–‡ä»¶è¯»å–ç­‰ï¼Œä½¿å¾— AI å¯ä»¥ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’ã€‚\n\n7. **Databaseï¼ˆæ•°æ®åº“ï¼‰**\n   - æä¾›ä¸å‘é‡æ•°æ®åº“ï¼ˆå¦‚ Chromaã€FAISSã€Pineconeï¼‰é›†æˆçš„åŠŸèƒ½ï¼Œç”¨äºæ„å»ºåŸºäºå‘é‡æ£€ç´¢çš„ AI åº”ç”¨ã€‚\n\n---\n\n### ğŸ§  LangChain çš„å…¸å‹åº”ç”¨åœºæ™¯ï¼š\n\n- **èŠå¤©æœºå™¨äºº**ï¼ˆå¦‚å®¢æœåŠ©æ‰‹ã€è™šæ‹ŸåŠ©æ‰‹ï¼‰\n- **å†…å®¹ç”Ÿæˆ**ï¼ˆå¦‚æ–‡ç« ã€ä»£ç ã€é‚®ä»¶ç­‰ï¼‰\n- **è‡ªåŠ¨åŒ–ä»»åŠ¡å¤„ç†**ï¼ˆå¦‚æ•°æ®åˆ†æã€ä¿¡æ¯æå–ã€æŠ¥å‘Šç”Ÿæˆï¼‰\n- **æ™ºèƒ½é—®ç­”ç³»ç»Ÿ**\n- **AI æ•™å­¦åŠ©æ‰‹ã€ç¼–ç¨‹åŠ©æ‰‹ç­‰**\n\n---\n\n### ğŸ“Œ LangChain çš„ä¼˜åŠ¿ï¼š\n\n- **æ¨¡å—åŒ–è®¾è®¡**ï¼šå„ä¸ªç»„ä»¶è§£è€¦ï¼Œæ˜“äºæ‰©å±•å’Œæ›¿æ¢ã€‚\n- **æ”¯æŒå¤šç§ LLM å’Œå·¥å…·**ï¼šå…¼å®¹å¤šä¸ªä¸»æµæ¨¡å‹å’Œ APIã€‚\n- **ç¤¾åŒºæ´»è·ƒ**ï¼šæœ‰å¤§é‡æ–‡æ¡£ã€æ•™ç¨‹å’Œå¼€æºé¡¹ç›®æ”¯æŒã€‚\n- **é€‚åˆä»åŸå‹åˆ°ç”Ÿäº§éƒ¨ç½²**ï¼šé€‚åˆå¿«é€Ÿè¿­ä»£å’Œéƒ¨ç½²ã€‚\n\n---\n\n### ğŸ› ï¸ å¦‚ä½•å¼€å§‹ä½¿ç”¨ LangChainï¼Ÿ\n\nä½ å¯ä»¥é€šè¿‡ Python å®‰è£… LangChainï¼š\n\n```bash\npip install langchain\n```\n\nç„¶åå¯ä»¥å¿«é€Ÿæ„å»ºä¸€ä¸ªç®€å•çš„ Chainï¼š\n\n```python\nfrom langchain.chains import LLMChain\nfrom langchain.prompts import PromptTemplate\nfrom langchain.llms import OpenAI\n\ntemplate = "å°†ä»¥ä¸‹å†…å®¹ç¿»è¯‘æˆæ³•è¯­ï¼š{text}"\nprompt = PromptTemplate(input_variables=["text"], template=template)\n\nllm = OpenAI(model_name="text-davinci-003", temperature=0)\nchain = LLMChain(llm=llm, prompt=prompt)\n\nresult = chain.run("Hello, how are you?")\nprint(result)\n```\n\n---\n\n### ğŸŒ å®˜æ–¹æ–‡æ¡£å’Œèµ„æºï¼š\n\n- å®˜ç½‘ï¼šhttps://www.langchain.com/\n- GitHubï¼šhttps://github.com/hwchong/langchain\n- æ–‡æ¡£ï¼šhttps://langchain.readthedocs.io/\n\n---\n\nå¦‚æœä½ æœ‰å…·ä½“çš„åº”ç”¨åœºæ™¯æˆ–é—®é¢˜ï¼Œæˆ‘ä¹Ÿå¯ä»¥å¸®ä½ ç”¨ LangChain å®ç°ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ã€‚éœ€è¦å—ï¼Ÿ' additional_kwargs={} response_metadata={'model': 'qwen3:14b', 'created_at': '2025-10-15T15:00:00.745156905Z', 'done': True, 'done_reason': 'stop', 'total_duration': 20210334355, 'load_duration': 18104419, 'prompt_eval_count': 20, 'prompt_eval_duration': 6073304, 'eval_count': 811, 'eval_duration': 20185082782, 'model_name': 'qwen3:14b'} id='run--3923dc24-3945-4d19-a7dd-ee323234b808-0' usage_metadata={'input_tokens': 20, 'output_tokens': 811, 'total_tokens': 831}

é—®é¢˜ï¼šPythonçš„ç”Ÿæˆå™¨æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ
å›ç­”ï¼šcontent='åœ¨ Python ä¸­ï¼Œ**ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰** æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿­ä»£å™¨ï¼ˆIteratorï¼‰ï¼Œå®ƒç”¨äº**é«˜æ•ˆåœ°ç”Ÿæˆä¸€ä¸ªåºåˆ—çš„å€¼**ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å°†æ‰€æœ‰å€¼å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚\n\n---\n\n### ä¸€ã€ç”Ÿæˆå™¨çš„ä½œç”¨\n\nç”Ÿæˆå™¨ä¸»è¦ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š\n\n1. **èŠ‚çœå†…å­˜**ï¼š  \n   å½“å¤„ç†å¤§é‡æ•°æ®æ—¶ï¼Œå¦‚æœä½¿ç”¨åˆ—è¡¨ï¼ˆListï¼‰æ¥å­˜å‚¨æ‰€æœ‰æ•°æ®ï¼Œä¼šå ç”¨å¤§é‡å†…å­˜ã€‚è€Œä½¿ç”¨ç”Ÿæˆå™¨ï¼Œå¯ä»¥é€ä¸ªç”Ÿæˆæ•°æ®ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ•°æ®ã€‚\n\n2. **æƒ°æ€§æ±‚å€¼ï¼ˆLazy Evaluationï¼‰**ï¼š  \n   ç”Ÿæˆå™¨åªæœ‰åœ¨éœ€è¦æ—¶æ‰è®¡ç®—ä¸‹ä¸€ä¸ªå€¼ï¼Œè€Œä¸æ˜¯ä¸€å¼€å§‹å°±å…¨éƒ¨è®¡ç®—ã€‚\n\n3. **ç®€åŒ–ä»£ç **ï¼š  \n   ä½¿ç”¨ `yield` å…³é”®å­—å¯ä»¥è½»æ¾åœ°å°†ä¸€ä¸ªå‡½æ•°å˜æˆç”Ÿæˆå™¨ï¼Œè€Œä¸å¿…æ‰‹åŠ¨å®ç° `__iter__()` å’Œ `__next__()` æ–¹æ³•ã€‚\n\n---\n\n### äºŒã€ç”Ÿæˆå™¨çš„åˆ›å»ºæ–¹å¼\n\n#### 1. ä½¿ç”¨ `yield` å…³é”®å­—\n\n```python\ndef my_generator():\n    yield 1\n    yield 2\n    yield 3\n\ngen = my_generator()\nfor value in gen:\n    print(value)\n```\n\n**è¾“å‡ºï¼š**\n```\n1\n2\n3\n```\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`my_generator` æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ `yield` ä¼šè¿”å›ä¸€ä¸ªå€¼ï¼Œå¹¶**æš‚åœå‡½æ•°çš„æ‰§è¡Œ**ï¼Œç›´åˆ°ä¸‹ä¸€æ¬¡è°ƒç”¨ã€‚\n\n---\n\n#### 2. ä½¿ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ˆGenerator Expressionï¼‰\n\nç”Ÿæˆå™¨è¡¨è¾¾å¼ç±»ä¼¼äºåˆ—è¡¨æ¨å¯¼å¼ï¼Œä½†ä½¿ç”¨æ‹¬å· `()` ä»£æ›¿æ–¹æ‹¬å· `[]`ï¼š\n\n```python\nsquares = (x**2 for x in range(5))\nfor square in squares:\n    print(square)\n```\n\n**è¾“å‡ºï¼š**\n```\n0\n1\n4\n9\n16\n```\n\n---\n\n### ä¸‰ã€ç”Ÿæˆå™¨çš„ç‰¹ç‚¹\n\n- ç”Ÿæˆå™¨å‡½æ•°åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ã€‚\n- ä½¿ç”¨ `next()` å‡½æ•°å¯ä»¥æ‰‹åŠ¨è·å–ç”Ÿæˆå™¨çš„ä¸‹ä¸€ä¸ªå€¼ã€‚\n- å½“ç”Ÿæˆå™¨æ²¡æœ‰æ›´å¤šå€¼æ—¶ï¼Œä¼šæŠ›å‡º `StopIteration` å¼‚å¸¸ã€‚\n- ç”Ÿæˆå™¨æ˜¯**å•æ¬¡ä½¿ç”¨**çš„ï¼Œä¸èƒ½é‡å¤è¿­ä»£ï¼Œé™¤éé‡æ–°ç”Ÿæˆã€‚\n\n---\n\n### å››ã€ç”Ÿæˆå™¨ vs åˆ—è¡¨\n\n| ç‰¹æ€§         | åˆ—è¡¨ï¼ˆListï¼‰                 | ç”Ÿæˆå™¨ï¼ˆGeneratorï¼‰             |\n|--------------|----------------------------|--------------------------------|\n| å†…å­˜å ç”¨     | é«˜ï¼ˆä¸€æ¬¡æ€§å­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼‰   | ä½ï¼ˆæŒ‰éœ€ç”Ÿæˆï¼‰                 |\n| ä½¿ç”¨åœºæ™¯     | æ•°æ®é‡å°ã€éœ€è¦é¢‘ç¹è®¿é—®     | æ•°æ®é‡å¤§ã€åªéå†ä¸€æ¬¡           |\n| è¯­æ³•         | ä½¿ç”¨ `[]`                  | ä½¿ç”¨ `yield` æˆ– `()`           |\n| æ˜¯å¦å¯è¿­ä»£   | æ˜¯                         | æ˜¯                             |\n\n---\n\n### äº”ã€æ€»ç»“\n\nç”Ÿæˆå™¨æ˜¯ Python ä¸­ç”¨äº**é€ä¸ªç”Ÿæˆæ•°æ®**çš„å·¥å…·ï¼Œå®ƒåœ¨å¤„ç†å¤§æ•°æ®ã€èŠ‚çœå†…å­˜ã€å®ç°æƒ°æ€§æ±‚å€¼ç­‰æ–¹é¢éå¸¸æœ‰ç”¨ã€‚é€šè¿‡ `yield` å…³é”®å­—ï¼Œä½ å¯ä»¥è½»æ¾åœ°å°†ä¸€ä¸ªå‡½æ•°è½¬æ¢ä¸ºç”Ÿæˆå™¨ã€‚\n\n---\n\nå¦‚æœä½ æœ‰å…·ä½“çš„åº”ç”¨åœºæ™¯ï¼Œæˆ‘å¯ä»¥å¸®ä½ å†™å‡ºæ›´å…·ä½“çš„ç”Ÿæˆå™¨ç¤ºä¾‹ã€‚' additional_kwargs={} response_metadata={'model': 'qwen3:14b', 'created_at': '2025-10-15T15:00:34.996272865Z', 'done': True, 'done_reason': 'stop', 'total_duration': 54460587940, 'load_duration': 18236802, 'prompt_eval_count': 24, 'prompt_eval_duration': 5754157, 'eval_count': 661, 'eval_duration': 15917225527, 'model_name': 'qwen3:14b'} id='run--f545a03b-2648-4c92-bf4c-1ffc5b7ac462-0' usage_metadata={'input_tokens': 24, 'output_tokens': 661, 'total_tokens': 685}

é—®é¢˜ï¼šè§£é‡Šä¸€ä¸‹Dockerå’ŒKubernetesçš„å…³ç³»
å›ç­”ï¼šcontent='Docker å’Œ Kubernetes æ˜¯ä¸¤ä¸ªåœ¨ç°ä»£è½¯ä»¶å¼€å‘å’Œäº‘åŸç”Ÿï¼ˆCloud Nativeï¼‰é¢†åŸŸä¸­éå¸¸é‡è¦çš„å·¥å…·ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ç€å¯†åˆ‡çš„å…³ç³»ï¼Œä½†åˆå„è‡ªæœ‰ä¸åŒçš„èŒè´£å’ŒåŠŸèƒ½ã€‚\n\n---\n\n## 1. **Docker æ˜¯ä»€ä¹ˆï¼Ÿ**\n\nDocker æ˜¯ä¸€ä¸ªå¼€æºçš„**å®¹å™¨åŒ–å¹³å°**ï¼Œå®ƒå…è®¸å¼€å‘è€…å°†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–æ‰“åŒ…æˆä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ï¼ˆContainerï¼‰ä¸­ï¼Œè¿™ä¸ªå®¹å™¨å¯ä»¥åœ¨ä»»ä½•æ”¯æŒ Docker çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œè€Œä¸ä¼šå› ä¸ºç¯å¢ƒå·®å¼‚å¯¼è‡´â€œåœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œï¼Œä½†åœ¨ä½ é‚£é‡Œä¸è¡Œâ€çš„é—®é¢˜ã€‚\n\n### Docker çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š\n- **å®¹å™¨é•œåƒï¼ˆImageï¼‰**ï¼šä¸€ä¸ªåŒ…å«åº”ç”¨ç¨‹åºå’Œæ‰€æœ‰ä¾èµ–çš„åªè¯»æ¨¡æ¿ã€‚\n- **å®¹å™¨ï¼ˆContainerï¼‰**ï¼šé•œåƒçš„è¿è¡Œå®ä¾‹ã€‚\n- **Dockerfile**ï¼šç”¨äºå®šä¹‰å¦‚ä½•æ„å»ºé•œåƒçš„æ–‡æœ¬æ–‡ä»¶ã€‚\n- **Docker Engine**ï¼šè¿è¡Œå®¹å™¨çš„å¼•æ“ã€‚\n\n---\n\n## 2. **Kubernetes æ˜¯ä»€ä¹ˆï¼Ÿ**\n\nKubernetesï¼ˆç®€ç§° K8sï¼‰æ˜¯ä¸€ä¸ª**å®¹å™¨ç¼–æ’ç³»ç»Ÿ**ï¼Œç”¨äºè‡ªåŠ¨åŒ–éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†å®¹å™¨åŒ–åº”ç”¨ã€‚å®ƒæœ€åˆç”± Google å¼€å‘ï¼Œç°åœ¨ç”± Cloud Native Computing Foundationï¼ˆCNCFï¼‰ç»´æŠ¤ã€‚\n\n### Kubernetes çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š\n- **å®¹å™¨ç¼–æ’**ï¼šè‡ªåŠ¨éƒ¨ç½²ã€æ‰©å±•ã€ç®¡ç†å’Œè°ƒåº¦å®¹å™¨ã€‚\n- **æœåŠ¡å‘ç°ä¸è´Ÿè½½å‡è¡¡**ï¼šè‡ªåŠ¨åˆ†é…æœåŠ¡å’Œè´Ÿè½½ã€‚\n- **è‡ªæˆ‘ä¿®å¤**ï¼šè‡ªåŠ¨é‡å¯å¤±è´¥çš„å®¹å™¨ã€æ›¿æ¢å’Œé‡æ–°éƒ¨ç½²æ•…éšœèŠ‚ç‚¹ã€‚\n- **æ»šåŠ¨æ›´æ–°ä¸å›æ»š**ï¼šå®ç°æ— ä¸­æ–­æ›´æ–°ã€‚\n- **å­˜å‚¨ç¼–æ’**ï¼šè‡ªåŠ¨æŒ‚è½½æŒä¹…åŒ–å­˜å‚¨ã€‚\n- **èµ„æºç›‘æ§ä¸æ—¥å¿—ç®¡ç†**ï¼šé›†æˆç›‘æ§ã€æ—¥å¿—å’Œè°ƒè¯•å·¥å…·ã€‚\n\n---\n\n## 3. **Docker å’Œ Kubernetes çš„å…³ç³»**\n\n### âœ… **Docker æ˜¯ Kubernetes çš„åŸºç¡€**\n- Kubernetes æœ¬èº«å¹¶ä¸ç›´æ¥è¿è¡Œå®¹å™¨ï¼Œè€Œæ˜¯é€šè¿‡**å®¹å™¨è¿è¡Œæ—¶ï¼ˆå¦‚ Dockerï¼‰**æ¥è¿è¡Œå®¹å™¨ã€‚\n- åœ¨ Kubernetes ä¸­ï¼Œ**Docker æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„å®¹å™¨è¿è¡Œæ—¶**ï¼Œä½†ä¸æ˜¯å”¯ä¸€çš„é€‰æ‹©ï¼ˆå…¶ä»–å¦‚ containerdã€CRI-O ä¹Ÿå¯ä»¥ï¼‰ã€‚\n\n### âœ… **Kubernetes æ˜¯ Docker çš„â€œå¢å¼ºâ€**\n- Docker ä¸»è¦ç”¨äº**å•æœºæˆ–å°è§„æ¨¡éƒ¨ç½²**ï¼Œè€Œ Kubernetes æ˜¯ä¸ºäº†**å¤§è§„æ¨¡ã€åˆ†å¸ƒå¼ã€è‡ªåŠ¨åŒ–ç®¡ç†å®¹å™¨åº”ç”¨**è€Œè®¾è®¡çš„ã€‚\n- Docker å¯ä»¥å¸®åŠ©ä½ æ„å»ºé•œåƒå¹¶è¿è¡Œå®¹å™¨ï¼Œè€Œ Kubernetes å¯ä»¥å¸®ä½ **ç®¡ç†æˆåƒä¸Šä¸‡ä¸ªå®¹å™¨**ï¼Œå¹¶ç¡®ä¿å®ƒä»¬é«˜æ•ˆã€ç¨³å®šåœ°è¿è¡Œã€‚\n\n### âœ… **ååŒå·¥ä½œæµç¨‹ç¤ºä¾‹ï¼š**\n1. ä½¿ç”¨ Docker æ„å»ºä¸€ä¸ªåº”ç”¨çš„é•œåƒï¼ˆé€šè¿‡ `Dockerfile`ï¼‰ã€‚\n2. å°†é•œåƒæ¨é€åˆ° Docker Registryï¼ˆå¦‚ Docker Hub æˆ–ç§æœ‰ä»“åº“ï¼‰ã€‚\n3. åœ¨ Kubernetes ä¸­å®šä¹‰ä¸€ä¸ª Deployment æˆ– Podï¼Œä½¿ç”¨è¯¥é•œåƒã€‚\n4. Kubernetes ä¼šè‡ªåŠ¨æ‹‰å–é•œåƒã€è°ƒåº¦å®¹å™¨åˆ°åˆé€‚çš„èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œå¹¶ç®¡ç†å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸã€‚\n\n---\n\n## 4. **æ€»ç»“ï¼šDocker ä¸ Kubernetes çš„å…³ç³»**\n\n| é¡¹ç›®        | è§’è‰²                         | åŠŸèƒ½                              |\n|-------------|------------------------------|-----------------------------------|\n| **Docker**  | å®¹å™¨åŒ–å¹³å°                   | æ‰“åŒ…ã€è¿è¡Œå®¹å™¨                    |\n| **Kubernetes** | å®¹å™¨ç¼–æ’ç³»ç»Ÿ               | è‡ªåŠ¨éƒ¨ç½²ã€æ‰©å±•ã€ç®¡ç†å®¹å™¨é›†ç¾¤      |\n\n> **Docker æ˜¯ Kubernetes çš„åŸºçŸ³ï¼ŒKubernetes æ˜¯ Docker çš„æ‰©å±•å’Œå¢å¼ºï¼Œä¸¤è€…ç›¸è¾…ç›¸æˆï¼Œå…±åŒæ„æˆäº†ç°ä»£äº‘åŸç”Ÿåº”ç”¨å¼€å‘å’Œè¿ç»´çš„æ ¸å¿ƒå·¥å…·é“¾ã€‚**\n\n---\n\nå¦‚æœä½ éœ€è¦æ›´æ·±å…¥çš„äº†è§£ï¼Œæ¯”å¦‚å¦‚ä½•ä½¿ç”¨ Docker å’Œ Kubernetes ä¸€èµ·éƒ¨ç½²ä¸€ä¸ªåº”ç”¨ï¼Œæˆ‘ä¹Ÿå¯ä»¥æä¾›ç¤ºä¾‹ã€‚' additional_kwargs={} response_metadata={'model': 'qwen3:14b', 'created_at': '2025-10-15T15:00:19.072481885Z', 'done': True, 'done_reason': 'stop', 'total_duration': 38536637460, 'load_duration': 17426607, 'prompt_eval_count': 24, 'prompt_eval_duration': 7403164, 'eval_count': 755, 'eval_duration': 18318528379, 'model_name': 'qwen3:14b'} id='run--cd3ce69f-1184-46c8-a7f7-51b7e86c1b64-0' usage_metadata={'input_tokens': 24, 'output_tokens': 755, 'total_tokens': 779}
```

## å¼‚æ­¥è°ƒç”¨
 LangChain æä¾› `ainvoke()` å¼‚æ­¥è°ƒç”¨æ¥å£ï¼Œç”¨äºåœ¨ å¼‚æ­¥ç¯å¢ƒï¼ˆasync/awaitï¼‰ ä¸­é«˜æ•ˆå¹¶è¡Œåœ°æ‰§è¡Œæ¨¡å‹æ¨ç†ã€‚  
å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼šè®©ä½ åŒæ—¶è°ƒç”¨å¤šä¸ªæ¨¡å‹è¯·æ±‚è€Œä¸é˜»å¡ä¸»çº¿ç¨‹ â€”â€” ç‰¹åˆ«é€‚åˆå¤§æ‰¹é‡è¯·æ±‚æˆ– Web æœåŠ¡åœºæ™¯ï¼ˆå¦‚ FastAPIï¼‰ã€‚  

ä»£ç å¦‚ä¸‹

```python
import asyncio
from langchain_ollama import ChatOllama

# è®¾ç½®æœ¬åœ°æ¨¡å‹ï¼Œä¸ä½¿ç”¨æ·±åº¦æ€è€ƒ
model = ChatOllama(base_url="http://localhost:11434", model="qwen3:14b", reasoning=False)

async def main():
    # å¼‚æ­¥è°ƒç”¨ä¸€æ¡è¯·æ±‚
    response = await model.ainvoke("è§£é‡Šä¸€ä¸‹LangChainæ˜¯ä»€ä¹ˆ")
    print(response)
    
# è¿è¡Œå¼‚æ­¥ç¨‹åºçš„å…¥å£ç‚¹
asyncio.run(main())
```

æ‰§è¡Œç»“æœå¦‚ä¸‹

```python
content='LangChain æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºåŸºäºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„åº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼Œå®ƒæ—¨åœ¨ç®€åŒ–ä»æ•°æ®å‡†å¤‡ã€æ¨¡å‹é›†æˆåˆ°æœ€ç»ˆåº”ç”¨å¼€å‘çš„æ•´ä¸ªæµç¨‹ã€‚LangChain æä¾›äº†ä¸€ç³»åˆ—å·¥å…·å’Œæ¨¡å—ï¼Œå¸®åŠ©å¼€å‘è€…æ›´é«˜æ•ˆåœ°åˆ©ç”¨åƒ GPTã€PaLMã€Llama ç­‰å¤§è¯­è¨€æ¨¡å‹çš„èƒ½åŠ›ï¼Œæ„å»ºå‡ºå…·æœ‰è®°å¿†ã€æ¨ç†ã€äº¤äº’ç­‰åŠŸèƒ½çš„æ™ºèƒ½åº”ç”¨ã€‚\n\n### LangChain çš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š\n\n1. **æ¨¡å—åŒ–è®¾è®¡**  \n   LangChain å°†æ„å»º AI åº”ç”¨çš„è¿‡ç¨‹åˆ†è§£ä¸ºå¤šä¸ªæ¨¡å—ï¼Œå¦‚æ•°æ®åŠ è½½ã€æ¨¡å‹è°ƒç”¨ã€è®°å¿†ç®¡ç†ã€æ¨ç†é“¾ã€æç¤ºå·¥ç¨‹ç­‰ï¼Œä½¿å¼€å‘è€…å¯ä»¥çµæ´»åœ°ç»„åˆè¿™äº›æ¨¡å—æ¥æ„å»ºå¤æ‚çš„åº”ç”¨ã€‚\n\n2. **æ”¯æŒå¤šç§å¤§æ¨¡å‹**  \n   LangChain æ”¯æŒå¤šç§ä¸»æµçš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼ŒåŒ…æ‹¬ OpenAIã€Anthropicã€Googleã€HuggingFace ç­‰å¹³å°çš„æ¨¡å‹ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒæœ¬åœ°éƒ¨ç½²çš„æ¨¡å‹ï¼ˆå¦‚ Llamaã€Baichuan ç­‰ï¼‰ã€‚\n\n3. **æç¤ºæ¨¡æ¿ï¼ˆPrompt Templatesï¼‰**  \n   æä¾›çµæ´»çš„æç¤ºæ¨¡æ¿æœºåˆ¶ï¼Œå…è®¸å¼€å‘è€…æ ¹æ®ä¸åŒåœºæ™¯è‡ªå®šä¹‰æç¤ºè¯­ï¼Œæå‡æ¨¡å‹è¾“å‡ºçš„å‡†ç¡®æ€§ä¸ç›¸å…³æ€§ã€‚\n\n4. **è®°å¿†ç³»ç»Ÿï¼ˆMemoryï¼‰**  \n   æ”¯æŒçŸ­æœŸè®°å¿†ï¼ˆå¦‚ä¼šè¯å†å²ï¼‰å’Œé•¿æœŸè®°å¿†ï¼ˆå¦‚æ•°æ®åº“å­˜å‚¨ï¼‰ï¼Œä½¿å¾—æ¨¡å‹åœ¨å¤„ç†å¤æ‚ä»»åŠ¡æ—¶å…·å¤‡ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ã€‚\n\n5. **é“¾å¼è°ƒç”¨ï¼ˆChainingï¼‰**  \n   å…è®¸å°†å¤šä¸ªæ¨¡å‹æˆ–å·¥å…·æŒ‰é¡ºåºç»„åˆï¼Œå½¢æˆä¸€ä¸ªâ€œé“¾â€ï¼Œå®ç°æ›´å¤æ‚çš„ä»»åŠ¡æµç¨‹ã€‚ä¾‹å¦‚ï¼šå…ˆç”¨ä¸€ä¸ªæ¨¡å‹ç”Ÿæˆå†…å®¹ï¼Œå†ç”¨å¦ä¸€ä¸ªæ¨¡å‹è¿›è¡Œåˆ†ææˆ–æ€»ç»“ã€‚\n\n6. **å·¥å…·é›†æˆ**  \n   LangChain æä¾›äº†ä¸å¤šç§å·¥å…·ï¼ˆå¦‚æ•°æ®åº“ã€APIã€æ–‡ä»¶ç³»ç»Ÿç­‰ï¼‰é›†æˆçš„èƒ½åŠ›ï¼Œä½¿å¾—æ¨¡å‹å¯ä»¥ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’ï¼Œå®ç°æ›´å¼ºå¤§çš„åŠŸèƒ½ã€‚\n\n7. **å¯æ‰©å±•æ€§**  \n   å¼€å‘è€…å¯ä»¥åŸºäº LangChain æ„å»ºè‡ªå®šä¹‰æ¨¡å—ï¼Œå¹¶ä¸å…¶ä»–å·¥å…·æˆ–æ¡†æ¶ï¼ˆå¦‚ FastAPIã€Djangoã€Streamlit ç­‰ï¼‰ç»“åˆï¼Œæ„å»ºå®Œæ•´çš„ AI åº”ç”¨ã€‚\n\n### LangChain çš„å…¸å‹åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š\n\n- **èŠå¤©æœºå™¨äºº**ï¼šä½¿ç”¨ LangChain æ„å»ºå…·æœ‰è®°å¿†å’Œä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›çš„æ™ºèƒ½å®¢æœæˆ–åŠ©æ‰‹ã€‚\n- **è‡ªåŠ¨åŒ–ä»»åŠ¡**ï¼šå¦‚æ–‡æ¡£æ‘˜è¦ã€ä¿¡æ¯æå–ã€æ•°æ®åˆ†æç­‰ã€‚\n- **RAGï¼ˆRetrieval-Augmented Generationï¼‰ç³»ç»Ÿ**ï¼šç»“åˆæ£€ç´¢å’Œç”Ÿæˆï¼Œæé«˜æ¨¡å‹å›ç­”çš„å‡†ç¡®æ€§å’Œç›¸å…³æ€§ã€‚\n- **æµç¨‹è‡ªåŠ¨åŒ–ï¼ˆRPAï¼‰**ï¼šç»“åˆå¤§æ¨¡å‹ä¸æµç¨‹è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå®ç°æ›´æ™ºèƒ½çš„è‡ªåŠ¨åŒ–æ“ä½œã€‚\n\n### ä¸€å¥è¯æ€»ç»“ï¼š\n\n**LangChain æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„ AI åº”ç”¨çš„å¼€æºæ¡†æ¶ï¼Œæä¾›æ¨¡å—åŒ–å·¥å…·ã€æç¤ºæ¨¡æ¿ã€è®°å¿†ç³»ç»Ÿã€é“¾å¼è°ƒç”¨ç­‰åŠŸèƒ½ï¼Œå¸®åŠ©å¼€å‘è€…æ›´é«˜æ•ˆåœ°æ„å»ºæ™ºèƒ½åº”ç”¨ã€‚**\n\nå¦‚æœä½ å¯¹ LangChain çš„å…·ä½“ä½¿ç”¨æˆ–æŸä¸ªæ¨¡å—æ„Ÿå…´è¶£ï¼Œæˆ‘å¯ä»¥è¿›ä¸€æ­¥ä¸¾ä¾‹è¯´æ˜ã€‚' additional_kwargs={} response_metadata={'model': 'qwen3:14b', 'created_at': '2025-10-15T15:09:11.989369811Z', 'done': True, 'done_reason': 'stop', 'total_duration': 14716300042, 'load_duration': 20088705, 'prompt_eval_count': 21, 'prompt_eval_duration': 7459747, 'eval_count': 605, 'eval_duration': 14687785730, 'model_name': 'qwen3:14b'} id='run--fc3ec61e-3b0e-40b3-a204-a7b90a111c45-0' usage_metadata={'input_tokens': 21, 'output_tokens': 605, 'total_tokens': 626}
```


