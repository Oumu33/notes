# 外键约束
    1. 引用主键构成完整性约束。外键允许有空值，不允许存在对应主键约束的列所有数值以外的其它值。MySQL自动创建非唯一性索引
    2. 语法 (1个表)
    - 表级定义
+ create  table t1(id int,name char(10),pid int,primary key(id),foreign key(pid)  references t1(id));
    - 追加定义
+ create  table t2(id int,name char(10),pid int);
+ alter  table t2 add primary key(id);
+ alter table t2 add foreign key(pid) references t2(id);
    3. 语法 (2个表)
    - 表级定义
+ --先建立外键要引用的主表
+ create  table c (cid int primary key,cname char(10)); 
+ --  再建立包含外键的从表
+ create  table s (sid int,sname char(10),cid int,foreign key(cid) references c(cid));
    - 追加定义
+ create  table s1 (sid int,sname char(10),cid int);
+ alter  table s1 add foreign key(cid) references c(cid);
    4. 测试
+ insert  into s (sid,sname,cid) values(1,'张三',101);报错，因为c表中cid不存在100的值，当前c表中没有任何记录
+ insert  into c (cid,cname) values(101,'1班'); c表中插入cid为101的值
+ insert  into s (sid,sname,cid) values(1,'张三',101);再次插入成功
+ insert  into s (sid,sname,cid) values(2,‘李四’,null); 插入成功，外键列可以有空值
    4. 删除s表cid列中的外键约束
+ 先要找出s表cid上外键约束的名称
+ mysql>  select * from information_schema.key_column_usage where table_name='s' and  referenced_table_name is not null\G
+ 然后再删除s表cid上的外键约束
+ mysql>alter  table s drop foreign key s_ibfk_1;
+ ![img_3264.png](https://raw.githubusercontent.com/Oumu33/notes/main/notes/images/img_3264.png)
+  


