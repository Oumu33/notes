# SQL操作
**ORACLE的SQL操作侧重于与MySQL比较**

## 1: 字符界面的登录方式
**sqlplus USER [/PASSWORD][as ****身份****]**

** **

--本机sys用户登录

sqlplus / as sysdba

--通过网络登录

sqlplus sys/system@192.168.2.128:1521/orcl as sysdba

--不显示密码

sqlplus system

** **

**清屏**：host cls  （host clear）---->LINUX

SQL> host cls

 

## 2：Sqlplus中切换用户
![img_4784.jpeg](https://raw.githubusercontent.com/Oumu33/notes/main/notes/images/img_4784.jpeg)

查看当前用户是谁：

sql> show user;

 

切换用户：

sql>conn system/system;

sql> show user;

sql>conn / as sysdba   --切换到sys

sql> show user;

sql>conn scott/tiger   --切换到scott

 

## 3: Oracle里有一张特殊的表是来实现函数运算的dual
**（伪表，仅仅满足语法需求）**

 

![img_2032.png](https://raw.githubusercontent.com/Oumu33/notes/main/notes/images/img_2032.png)

** **

查看表结构：和mysql一样

 

desc tabl_name;

## 4: 字符串拼接符 ||
相当于mysql的concat函数

 

![img_1936.png](https://raw.githubusercontent.com/Oumu33/notes/main/notes/images/img_1936.png)

 

查看当前登录用户有哪些表：

<font style="color:teal;">select</font><font style="color:black;"> </font><font style="color:navy;">*</font><font style="color:black;"> </font><font style="color:teal;">from</font><font style="color:black;"> tab</font><font style="color:navy;">;</font>

 

 

当前用户的表有哪些列：

 select * from col;

 

## 5: 表别名与列别名
** **

## 6: Oracle和mysql数据类型的比较
三大主流数据库的数据类型映射关系



①数值型

mysql有很多int类型，例如tinyint bigint smallint.......，oracle是int

mysql的decimal(10,2)相当于oracle的number(10,2)

 

②日期型

MySQL的datetime相当于oracle的date

 

 

③字符型

Oracle的VARCHAR2是变长字符型，VARCHAR2是Oracle独特的数据类型，相对于mysql的varchar

VARCHAR2最大长度可达到4000,而CHAR最大长度为2000。

** **

** **

** **

其他区别

**      **

ORACLE的number类型修饰符没有unsigned和auto_increment

ORACLE没有枚举和集合类型 enum和set类型，oracle没有

** **

** **

## 7: 查询ORACLE表的索引
**根据表名，查询某张表的索引**

SELECT * FROM USER_INDEXES WHERE TABLE_NAME=UPPER(‘TBL_NAME’)

或：

SELECT * FROM USER_INDEXES WHERE TABLE_NAME='DEPT';

 

 

创建索引：

create index idx_name on tab_name(col_name);

## 8: ORACLE创建视图
普通用户默认没有创建视图的系统权限，需要管理员sys或system授予create view权限

创建视图操作方法和mysql一样

grant create view to scott;

 

 

** **

<font style="color:black;"></font>

<font style="color:black;"> </font>

<font style="color:black;"> </font>

** **

## 9: ORACLE的基本SQL操作
### l  DDL
 

改字段名

ALTER TABLE tb_name RENAME COLUMN name TO new_name;    

 

改字段属性

ALTER TABLE tb_name MODIFY (col_name type(x));     

 

添加字段

ALTER TABLE tb_name add new_col_name type(x); 

 

删除字段

ALTER TABLE tb_name DROP COLUMN col_name;   

** **

<font style="color:navy;"> </font>

### l  DML
INSERT 不支持SET方式   必须加INTO  不能使用values(v1),(v2),(v3)...  只能使用values, 而且一次插入数据只能一行（命令模式）

UPDATE 一样

DELETE语句一样

 

SELECT、UPDATE、DELETE语句都和mysql差不多

SELECT 语句当前版本11gR2不支持limit, 可以使用rownum伪列

 

 

例如select * from table_name where rownum <=10

select * from tb3 where id>3 and rownum <=2 order by id desc;

 

 

也可以使用group by子句   （group by 子句不支持对*处理，并且投影的字段一定要和分组的字段有分组关系）

 

### l  多表连接查询
** **

表连接 是sql的语法，mysql和oracle都同时支持sql 表连接语法的，但是他们之间有各自的特色

 

oracle表连接可以使用(+) 来代替left join OR right join，但是mysql不可以

以左表为基准，左外连接在右边加(+)

以右表为基准，右外连接在左边边加(+)

 

 


