# 指标类型

> 来源: Prometheus
> 创建时间: 2020-12-10T17:51:23+08:00
> 更新时间: 2026-01-11T09:30:22.711154+08:00
> 阅读量: 1419 | 点赞: 0

---

# 一、Counter
1. counter是一个累积指标，代表一个单调递增的计数器，其值只能增加或在重新启动时重置为零。      例如，您可以使用counter来表示已服务请求，已完成任务或错误的数量。
2. 不要使用计数器来显示会减小的值。例如，请勿对当前正在运行的进程数使用计数器； 而是使用 gauge。

# 二、Gauge
1. Gauge是一种可以表示任意上下浮动的单个数值的度量指标。
2. Gauge通常用于测量值，例如温度或当前内存使用情况，还用于可能上升和下降的“计数”，例如并发请求数。比如磁盘容量、内存使用量就必须使用      gauge来度量

# 三、histogram
1. histogram是柱状图，在Prometheus系统中的查询语言中，有三种作用：
+ 对每个采样点进行统计（并不是一段时间的统计），打到各个桶(bucket)中
+ 对每个采样点值累计和(sum)
+ 对采样点的次数累计和(count)
2. 基本度量指标名称为<basename>的histogram在抓取期间显示多个时间序列：  
+ 观察桶的累积计数器，显示为     <basename>_bucket{le="<upper inclusive bound>"}
+ 所有观察值的总和，显示为<basename>_sum
+ 观察到的事件数，显示为<basename>_count（与 <basename>_bucket{le="+Inf"}相同）
3. 使用histogram_quantile()函数从直方图甚至直方图的聚合中计算分位数。 直方图也适合计算Apdex分数。 在存储桶上操作时，请记住直方图是累积的。      有关直方图用法的详细信息以及与摘要的差异，请参见直方图和摘要。 客户端库使用情况的直方图文档：

# 四、summary
1. summary是采样点分位图统计。 它也有三种作用：
+ 在客户端对于一段时间内（默认是10分钟）的每个采样点进行统计，采样点分位图统计，用于得到数据的分布情况（例如，在要统计的班级中，有90%学生的成绩低于93分，有95%学生的成绩低于96分，则采用Summary能够更好地展示数据的分布情况。）
+ 统计班上所有同学的总成绩(sum)
+ 统计班上同学的考试总人数(count)
2. 基本指标名称为<basename>的summary在抓取期间显示多个时间序列：
+ 流观察到的事件的φ分位数（0≤φ≤1），显示为<basename>      {quantile="<φ>"
+ 所有观察值的total      sum，显示为<basename>_sum
+ 观察到的事件count，显示为<basename>_count


