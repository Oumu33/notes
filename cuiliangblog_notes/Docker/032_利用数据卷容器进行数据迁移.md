# 利用数据卷容器进行数据迁移

> 来源: Docker
> 创建时间: 2020-12-25T21:59:14+08:00
> 更新时间: 2026-01-11T09:29:30.342826+08:00
> 阅读量: 784 | 点赞: 0

---

1. 备份

`[root@docker ~]# docker run --volumes-from dbdata -v $(pwd):/backup --name worker ubuntu tar cvf /backup/backup.tar /dbdata` 

| --name   worker ubuntu | 使用ubuntu镜像创建名为worker的容器 |
| --- | --- |
| --volumes-from   dbdata | 让worker容器挂载dbdata容器的数据卷 |
| -v   $(pwd):/backup | 挂载本地的当前目录到worker容器的/backup目录 |
| tar cvf   /backup/backup.tar /dbdata | 将/dbdata下内容备份为容器内的/backup/backup.tar |


2. 恢复
+ 创建一个带有数据卷的容器dbdata2

`[root@docker ~]# docker run -v /dbdata --name dbdata2 ubuntu /bin/bash` 

+ 创建另一个新的容器，挂载dbdata2的容器，并解压备份文件到所挂载的容器卷中

`[root@docker ~]# docker run --volumes-from dbdata2 -v $(pwd):/backup busybox tar xvf /backup/backup.tar` 


