# 控制器常用命令
# 一、ReplicaSet


1. 查看replicaset信息  
`$ kubectl get replicaset`   
`$ kubectl get replicaset rs-example -o wide` 
2. 查看replicasets控制器下某资源详细信息  
`$ kubectl describe replicasets/rs-example` 
3. 显示由RC管理的Pod的信息  
`$ kubectl describe pods <rc-name>` 
4. Pod的扩容与缩容  
`$ kubectl scale rc redis --replicas=3` 
+ 当我们需要进行永久性扩容时，不要忘记修改rc配置文件中的replicas数量。  
`$ kubectl patch statefulset myapp -p '{"spec":{"replicas":3}}'` 
5. 更新镜像  
`$ kubectl set image deployments myapp-deploy  myapp=192.168.10.110/k8s/myapp:v2` 

# 二、Deployment


1. 查看版本信息  
`$ kubectl rollout history deployment myapp-deploy` 
2. 查看更新状态：  
`$ kubectl rollout status deployment nginx` 
3. 终止升级  
`$ kubectl rollout pause deployment/nginx` 
4. 继续升级  
`$ kubectl rollout resume deployment/nginx` 
5. 回滚到上一个版本  
`$ kubectl rollout undo deployments myapp-deploy` 
6. 回滚到指定版本  
`$ kubectl rollout undo deployments myapp-deploy --to-revision=1`
7. 重新回滚重启当前版本

`$ <font style="color:rgb(31, 35, 40);">kubectl rollout restart deployment myapp-deploy</font>`



# 三、DaemonSet控制器


1. 更新镜像  
`$ kubectl set image daemonsets filebeat-ds filebeat=ikubernetes/filebeat:5.6.6` 

# 四、Job控制器


1. 以Job控制器名称为标签进行匹配：  
`$ kubectl get pods -l job-name=job-example` 
2. job扩容  
`$ kubectl scale jobs job-multi --replicas=2` 



# 五、CronJob控制器


1. 以CronJob控制器名称为标签进行匹配：  
`$ kubectl get jobs -l app=mycronjob-jobs` 


