# 阿里云百炼平台接入MCP
# 阿里云百炼平台介绍
阿里云百炼平台是一款一站式的大模型开发及应用构建平台，旨在帮助开发者和业务人员快速设计和构建大模型应用。用户可以通过简洁的界面操作，在短时间内开发出大模型应用或训练专属模型，从而将更多精力专注于应用创新。

## 阿里云百炼 MCP
近期，阿里云百炼平台正式推出了全生命周期的MCP（Model-Connect-Protocol）服务，实现了从资源管理到部署运维的全流程自动化。用户仅需5分钟即可快速创建连接MCP服务的智能体（Agent），将大模型技术转化为生产力工具。首批集成了包括高德地图、无影、Fetch、Notion等50余款阿里巴巴集团及第三方MCP服务，覆盖生活服务、办公协同、内容创作等多个领域。

## 接入MCP的优势
1. 快速开发与部署：通过MCP服务，用户无需管理资源、开发部署和工程运维等复杂工作，可在短时间内搭建并上线智能体应用。
2. 丰富的生态系统：百炼平台整合了200多款业界领先的大模型和阿里云函数计算资源，以及众多MCP服务，提供一站式智能体开发解决方案，满足不同场景的应用需求。
3. 深度场景化定制：与市场上通用的Agent应用不同，百炼MCP服务支持深度场景化定制。用户无需编写代码，通过简单的可视化配置即可打造具备自主思考、任务拆解和决策执行等能力的专属智能体。
4. 持续扩展的应用边界：随着MCP协议生态的不断扩展，百炼平台将持续引入更多阿里巴巴集团及第三方应用服务，进一步拓宽智能体的应用边界，推动大模型技术在各行业的落地应用。

通过接入MCP服务，阿里云百炼平台为用户提供了高效、便捷的大模型应用开发环境，降低了开发门槛，加速了大模型技术的产业化应用进程。

# 阿里云百炼接入MCP流程
## 高德 MCP
高德地图 MCP 工具是高德地图基于 MCP 协议构建的服务器，整合了高德开放平台的地图服务与智能算法，为企业及开发者提供全场景的地图服务解决方案。 其 12 项核心功能涵盖了地图服务的方方面面，满足企业开发的多样化需求。

主要功能：

+ POI 智能提取：能够从文字中精准提取 POI（兴趣点）信息，涵盖位置、详情、打卡点、价格等多维度内容。
+ 路径规划：提供驾车、步行、骑行等多种出行方式的路径规划服务，帮助用户选择最优路线。
+ 实时路况查询：实时查询特定道路或区域的拥堵状况及趋势，为出行提供及时参考。
+ 天气查询：通过经纬度信息，获取实时天气情况及未来天气预报，为用户出行计划提供支持。

通过高德地图 MCP 工具，AI 智能体可以直接调用高德地图的各项服务，实现如位置查询、路线规划、实时路况查询等功能，提升用户体验和服务效率。

然后我们进入MCP服务中心，先选择高德MCP工具进行测试：

工具地址：[https://bailian.console.aliyun.com/?utm_source=ai-bot.cn&tab=mcp#/mcp-market/detail/amap-maps](https://bailian.console.aliyun.com/?utm_source=ai-bot.cn&tab=mcp#/mcp-market/detail/amap-maps)

![](https://via.placeholder.com/800x600?text=Image+3059d8c2c16a32e7)

然后进入应用管理，即可看到当前开启的MCP服务：

![](https://via.placeholder.com/800x600?text=Image+f596a2d6decfd0f2)

然后点击创建新的应用，其实也就是新的Agent：

![](https://via.placeholder.com/800x600?text=Image+0ae8cef84d2a45f4)

然后即可进行模型和MCP工具配置了：

![](https://via.placeholder.com/800x600?text=Image+55d4d25f3e7ca255)

![](https://via.placeholder.com/800x600?text=Image+7431914d0b0aac2f)

然后输入系统提示词：你是一名经验丰富的导游，请耐心认真的为用户规划出游行程。

![](https://via.placeholder.com/800x600?text=Image+0228389cbe1b604d)

能够看到规划结果和MCP工具调用流程：

![](https://via.placeholder.com/800x600?text=Image+8662decd65643363)

## Firecrawl MCP工具
Firecrawl MCP 工具是一款基于模型上下文协议（MCP）的企业级网页数据采集服务器，由 Mendable.ai 开发，专门针对复杂网页场景设计。它支持 JavaScript 动态渲染、批量数据处理、智能内容搜索和深度网页爬取等高级功能，能够为大型语言模型（LLM）提供强大的网页抓取能力。

主要功能：

+ JavaScript 渲染：能够处理动态网页内容，突破传统抓取工具的局限，获取更全面的数据。
+ 批量处理：支持并行处理和队列管理，提高数据抓取效率。
+ 智能限速：根据网络状况和任务需求智能调整抓取速度，避免对目标网站造成过大压力。
+ 多种输出格式*：支持将抓取的内容转换为 Markdown、HTML 等格式，满足不同场景的需求。

通过 Firecrawl MCP 工具，开发者可以高效地从网页提取结构化数据，增强 LLM 在信息检索和内容生成方面的能力。

Firecrawl和Fetch都是基于模型上下文协议（MCP）的服务器工具，旨在增强大型语言模型（LLMs）对网页内容的获取和处理能力，但它们在功能和适用场景上存在显著差异。

Firecrawl MCP 工具：

+ 高级网页抓取：Firecrawl 专为复杂的网页抓取任务设计，支持 JavaScript 渲染，能够处理动态内容丰富的网站。
+ 批量处理与深度爬取：具备批量数据处理、URL 发现和深度爬取能力，适用于大规模数据采集任务。
+ 智能内容搜索：内置智能内容搜索和提取功能，能够高效地从网页中提取结构化数据。

Fetch MCP 工具：

+ 网页内容获取与转换：Fetch 主要用于从指定的 URL 获取网页内容，并将 HTML 转换为 Markdown 格式，便于 LLMs 理解和处理。
+ 轻量级设计：Fetch 注重简洁和易用，适合需要快速获取和转换网页内容的场景。

![](https://via.placeholder.com/800x600?text=Image+deeae7fff71e6a9f)

然后需要创建Firecrawl API：

![](https://via.placeholder.com/800x600?text=Image+bd3076f3b70a8522)

![](https://via.placeholder.com/800x600?text=Image+037de9dc58fbb5ad)

点击复制即可：

![](https://via.placeholder.com/800x600?text=Image+630f1388d2cad98b)

然后开启Firecrawl MCP工具：

![](https://via.placeholder.com/800x600?text=Image+ff2997671e65fe37)

然后输入系统提示词

```plain
##  角色设定（优化版）
你是一位**内容整理专家**，擅长高效提取网页中的关键信息。
##  核心技能
### 查询与总结网页内容
- 根据用户提供的网页链接，使用 **Firecrawl MCP 工具** 抓取网页主内容（以 Markdown 格式返回）。
- 阅读并理解网页信息，**用中文提炼出关键要点与核心观点**。
- 生成结构清晰、逻辑完整的内容总结，适合直接用于知识管理或随手记录
## 限制要求
1. 所有内容总结必须为**中文**。
2. 每条记录只添加一个标签。
3. 标签书写规范：`#标签`，前缀为 `#`，**无空格**。
```

并尝试爬取网页内容：

![](https://via.placeholder.com/800x600?text=Image+227c944c1998f0fe)

# 百炼应用API获取与调用
![](https://via.placeholder.com/800x600?text=Image+4b140cd9ca2b7046)

![](https://via.placeholder.com/800x600?text=Image+a28277f72dff106b)

![](https://via.placeholder.com/800x600?text=Image+8c88eb3bacd04128)

然后我们即可使用API来调用已经创建好的应用：

![](https://via.placeholder.com/800x600?text=Image+4e36fcd89d8eb1e6)

调用 AI Agent。

```python
!pip install dashscope 
import os
from http import HTTPStatus
from dashscope import Application

response = Application.call(
    api_key=DASHSCOPE_API_KEY,  # 替换为实际API-KEY
    app_id=APP_ID,              # 替换为实际的应用 ID
    prompt='你是谁？')
print(response.output.text)

prompt = '请帮我详细整理下这个网页里的内容：https://docs.cherry-ai.com/'
response = Application.call(
    api_key=DASHSCOPE_API_KEY,  # 替换为实际API-KEY
    app_id=APP_ID,              # 替换为实际的应用 ID
    prompt=prompt)
print(response.output.text)
```


