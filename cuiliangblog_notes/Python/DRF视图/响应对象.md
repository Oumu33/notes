# 响应对象

> 分类: Python > DRF视图
> 更新时间: 2026-01-10T23:34:30.975385+08:00

---

## 一、Response objects
<font style="color:#333333;">REST framework提供了一个响应类</font>`Response`<font style="color:#333333;">，使用该类构造响应对象时，响应的具体数据内容会被转换（render渲染）成符合前端需求的类型。</font>

## 二、构造方式
```python
Response(data, status=None, template_name=None, headers=None, content_type=None)
```

参数说明:

+ `data`: 为响应准备的序列化处理后的数据（序列化器序列化处理后的数据）
+ `status`: 状态码，默认200；
+ `template_name`: 模板名称，如果使用`HTMLRenderer` 时需指明；
+ `headers`: 用于存放响应头信息的字典；
+ `content_type`: 响应数据的Content-Type，通常此参数无需传递，REST framework会根据前端所需类型数据来设置该参数。

## 三、状态码
为了方便设置状态码，REST framewrok在`rest_framework.status`模块中提供了常用状态码常量。

## 四、示例
> <font style="color:#333333;">不再需要JSONResponse类，所有响应通过response即可</font>
>
> <font style="color:#333333;">使用命名状态代码，</font><font style="color:#333333;">使得响应意义更加明显</font>
>

```python
from rest_framework import status
from quickstart.models import BookInfo
from quickstart.serializers import BookInfoSerializer
from rest_framework.decorators import api_view
from rest_framework.response import Response


# 使用函数修饰器修改GET和POST请求
@api_view(['GET', 'POST'])
def BookInfoView(request):
    """
    列出所有的book信息，或创建一个新book。
    """
    if request.method == 'GET':
        books = BookInfo.objects.all()
        serializer = BookInfoSerializer(books, many=True)
        return Response(serializer.data)

    elif request.method == 'POST':
        serializer = BookInfoSerializer(data=request.data)
        if serializer.is_valid():
            serializer.save()
            return Response(serializer.data, status=status.HTTP_201_CREATED)
        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)


@api_view(['GET', 'PUT', 'DELETE'])
def BookInfoDetailView(request, book_id):
    """
    获取，更新或删除一个指定ID的book。
    """
    try:
        book = BookInfo.objects.get(pk=book_id)
    except BookInfo.DoesNotExist:
        return Response(status=status.HTTP_404_NOT_FOUND)

    if request.method == 'GET':
        serializer = BookInfoSerializer(book)
        return Response(serializer.data)

    elif request.method == 'PUT':
        serializer = BookInfoSerializer(book, data=request.data)
        if serializer.is_valid():
            serializer.save()
            return Response(serializer.data)
        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)

    elif request.method == 'DELETE':
        book.delete()
        return Response(status=status.HTTP_204_NO_CONTENT)
```

