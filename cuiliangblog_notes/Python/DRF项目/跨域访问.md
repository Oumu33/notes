# 跨域访问
1. 安装模块

`pip install django-cors-headers` 

2. settings.py配置文件设置

```python
INSTALLED_APPS = [
    ……
    'corsheaders',
    ……
]

MIDDLEWARE = [
    'corsheaders.middleware.CorsMiddleware',# 放首行
    ……
]

# 允许指定访问来源
CORS_ORIGIN_WHITELIST = (
    'http://127.0.0.1:8080',
    'http://localhost:8080',
    'http://ops_vue:8080',
)
# 允许所有
# CORS_ORIGIN_ALLOW_ALL = True
CORS_ALLOW_CREDENTIALS = True  # 允许携带cookie
```

3. view配置（POST请求设置忽略csrf验证，DRF项目无需配置）

```python
from django.views.decorators.csrf import csrf_exempt
@csrf_exempt
def userinfo(request):
    ……
    return JsonResponse(result)
```



