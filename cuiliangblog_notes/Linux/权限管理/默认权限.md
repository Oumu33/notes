# 默认权限
# 一、默认权限简介
1. 我们在linux系统中新建一个文件或者目录，那么这个文件或目录会有一个权限，这个权限就是默认权限。这个权限就是靠umask的值来定义的。
2. umask（权限掩码）      就是指定当前用户在建立文件或目录时候的权限默认值。当新文件被创建时，其最初的权限由文件创建掩码决定。用户每次登录系统时，umask命令都被执行，      并自动设置掩码mode来限制新文件的权限。用户可以通过再次执行umask命令来改变默认值，新的权限将会把旧的覆盖掉。

# 二、查看默认权限
1. 执行umask命令来查看系统中文件默认权限。

![](../../images/img_3749.png)

+ 0：文件特殊权限。
+ 022：文件默认权限。 
1. 创建一个文件和一个目录，查看权限。

![](../../images/img_3750.png)

+ 文件默认权限是644，而目录的权限是755。
1. 文件默认权限的特点：
+ 文件默认不能建立为执行权限，必须手工赋予执行权限。所以文件的默认权限最大为666。这样能保护系统安全。
+ 建立文件或目录之后的默认权限，为666减去umask的值。
2. 文件默认权限计算：
+ 文件默认最大权限666，umask=022

| 最大权限 | rw- | rw- | rw- |  666 |
| --- | --- | --- | --- | --- |
| 权限掩码 | --- | -w- | -w- |  022 |
| 默认 | rw- | r-- | r-- |  644 |


+ 文件默认最大权限666，umask=033

| 最大权限 | rw- | rw- | rw- |  666 |
| --- | --- | --- | --- | --- |
| 权限掩码 | --- | -wx | -wx |  033 |
| 默认 | rw- | r-- | r-- |  644 |


+ 与或运算，相同为-，不同保留最大权限值
1. 目录的默认权限：
+ 目录默认权限最大是777。
+ 建立目录之后的默认权限，是777减去umask的值。

# 二、修改默认权限
1. 临时生效
+ 使用umask + 值，比如umask 0000
2. 永久修改
+ 修改环境变量配置文件/etc/profile

![](../../images/img_3751.png)

 

