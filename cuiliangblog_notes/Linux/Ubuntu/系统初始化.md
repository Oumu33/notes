# 系统初始化
# 修改主机名
```bash
hostnamectl set-hostname muban-ubuntu
```

# 关闭防火墙
```bash
systemctl stop ufw
systemctl disable ufw
```

# 关闭swap交换分区
```bash
swapoff -a  
vim /etc/fstab  
#/swap.img      none    swap    sw      0       0
```

# 配置国内软件源
## ubuntu20
```bash
# cp /etc/apt/sources.list /etc/apt/sources.list.back
# cat > /etc/apt/sources.list << EOF
deb https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse

deb https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse

deb https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse

# deb https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
# deb-src https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse

deb https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
EOF
```

## ubuntu24
```bash
# 备份源列表
# cp /etc/apt/sources.list.d/ubuntu.sources /etc/apt/sources.list.d/ubuntu.sources.bak
# 编辑源列表文件
# cat > /etc/apt/sources.list.d/ubuntu.sources << EOF
Types: deb
URIs: http://mirrors.aliyun.com/ubuntu/
Suites: noble noble-updates noble-backports
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg
EOF
```

# 安装常用软件
```bash
apt -y update && apt -y upgrade && apt -y install vim git wget gcc net-tools telnet glances
```

# 关闭sshd解析
```bash
sed  -i "s/#UseDNS yes/UseDNS no/g" /etc/ssh/sshd_config
systemctl restart sshd 
```

# 美化vim
```bash
echo  "set nu" >> ~/.vimrc
echo  "set ts=4" >> ~/.vimrc 
cat  ~/.vimrc
```

# 配置时间同步
```bash
timedatectl set-ntp true
timedatectl set-timezone Asia/Shanghai
```

# 安装docker
```bash
apt install -y apt-transport-https ca-certificates curl software-properties-common
curl -fsSL https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo apt-key add -
add-apt-repository "deb [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable"
apt-get -y update
apt-get -y install docker-ce
mkdir -p /etc/docker
tee > /etc/docker/daemon.json <<-'EOF'
{
  "registry-mirrors": [
        "https://mirror.ccs.tencentyun.com",
        "https://o2j0mc5x.mirror.aliyuncs.com"
    ]
}
EOF
systemctl daemon-reload
systemctl enable docker
systemctl restart docker
```

## 非 root 用户运行 Docker
1. 创建 `docker` 组（如果没有）：

```plain
sudo groupadd docker
```

2. 将当前用户添加到 `docker` 组：

```plain
sudo usermod -aG docker $USER
```

3. 退出当前会话，重新登录，或者运行以下命令来刷新用户组：

```plain
newgrp docker
```

现在你应该可以以普通用户运行 Docker 命令，而不需要使用 `sudo` 了。

