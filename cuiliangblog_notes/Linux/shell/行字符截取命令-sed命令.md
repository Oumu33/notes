# 行字符截取命令-sed命令

> 分类: Linux > shell
> 更新时间: 2026-01-10T23:34:56.201767+08:00

---

# 一、sed命令
1. sed 是一种几乎包括在所有 UNIX 平台（包括 Linux）的轻量级流编辑器。sed主要是用来将数据进行选取、替换、删除、新增的命令。
2. 处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有改变，除非你使用重定向存储输出。Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。
3. **[ro****ot@localhost ~]# sed      [****选项****] ‘[****动作****]’ ****文件名**
4. 选项：

| -n： | 一般sed命令会把所有数据都输出到屏幕   ，如果加入此选择，则只会把**经过****sed****命令处理**的行输出到屏幕。 |
| --- | --- |
| -e： | 允许对输入数据**应用多条****sed****命令**编辑 |
| -i： | 用sed的修改结果**直接修改读取数据的文件**，而不是由屏幕输出 |


1. 动作：

| a \：  | **追加**，在当前行后添加一行或多行。添加多行时，除最后   一行外，每行末尾需要用“\”代表数据未完结。 |
| --- | --- |
| c \：  | **行替换**，用c后面的字符串替换原数据行，替换多行时，除最后一行外，每行末尾需用“\”代表数据未完结。 |
| i \：  | **插入**，在当期行前插入一行或多行。插入多行时，除最后   一行外，每行末尾需要用“\”代表数据未完结。 |
| d：  | **删除**，删除指定的行。 |
| p：  | **打印**，输出指定的行。 |
| s：  | **字串替换**，用一个字符串替换另外一个字符串。格式为“行范围s/旧字串/新字串/g”（和vim中的替换格式类似）。 |


# 二、行数据操作
![](https://cdn.nlark.com/yuque/0/2021/png/2308212/1613442366584-e197a9da-bcfd-46f1-9ed0-49f1f0840289.png)

1. 查看文件的第二行

![](https://cdn.nlark.com/yuque/0/2021/png/2308212/1613442366587-d1788f62-0f35-4fb8-842b-ea22a22a8391.png)

![](https://cdn.nlark.com/yuque/0/2021/png/2308212/1613442366599-f4512759-5326-47ca-add9-dedffeb0deaa.png)

1. 删除第二行到第四行的数据，但不修改文件本身

![](https://cdn.nlark.com/yuque/0/2021/png/2308212/1613442366613-66019c76-2b61-47ca-9d24-41862c525f9b.png)

1. 在第二行后追加hello

![](https://cdn.nlark.com/yuque/0/2021/png/2308212/1613442366631-3de67f81-31c8-44a3-9ff3-1a78c2b79266.png)

1. 在第二行前插入两行数据

![](https://cdn.nlark.com/yuque/0/2021/png/2308212/1613442366631-1175ff2d-4fc3-4ec2-949c-5f14bb659eb5.png)

1. 数据替换（第四行数据改为no）

![](https://cdn.nlark.com/yuque/0/2021/png/2308212/1613442366630-71ecfc1e-5eeb-4d36-a24c-8d09b36f82ee.png)

1. 字符串替换sed ‘s/旧字串/新字串/g’ 文件名
+ 在第三行中，把23换成99

![](https://cdn.nlark.com/yuque/0/2021/png/2308212/1613442366629-281d5bb5-e408-46ec-a27c-43a782c63ce5.png)

1. sed操作的数据直接写入文件

![](https://cdn.nlark.com/yuque/0/2021/png/2308212/1613442366637-d7cdf2fe-991a-4fb0-86a3-652b994c0bce.png)

1. 同时把“zhang”和“li”替换为空

![](https://cdn.nlark.com/yuque/0/2021/png/2308212/1613442366632-975663b7-3cff-4589-bdf5-4a44c54bca74.png)

 

