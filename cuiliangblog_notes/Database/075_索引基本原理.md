# 索引基本原理

> 来源: Database
> 创建时间: 2021-02-12T22:39:20+08:00
> 更新时间: 2026-01-11T09:14:41.406354+08:00
> 阅读量: 702 | 点赞: 0

---

如果在stu表的sno列上创建索引alter table stu add index idx_sno(sno);

首先会提取stu表中所有记录sno的值，在内存中按照从小到大的顺序排序

排序后的结果形成了很多索引页(page)，这个过程由mysql按照算法自动完成，不用过于深究其中的详细过程

![](https://via.placeholder.com/800x600?text=Image+0aad00c75091b83c)

索引页之间存在一定的关联关系，一般为树形结构;分为根节点、分支节点、和叶子节点

根节点页中存放分段sno的起始值，以及值所对应的分支索引页号

分支索引页中存放分段sno的起始值，以及值所对应的叶子索引页号

叶子索引页中存放排序后的sno值，该值所对应的表页号, 下一个叶子索引页的页号

![](https://via.placeholder.com/800x600?text=Image+649b3eef33670b38)

sno建立索引后，执行select * from stu where sno=13查询过程如下：

第一步 索引页存在关联关系，先找索引页号20的根节点，13在>=11和<17的范围内，需要查找25号索引页

第二步 读取25号索引页，13在>=11和<14范围内，得到了26号叶子索引页

第三步 读取26号叶子索引页，找到了13这个值，以及该值所对应表页的页号161，因为是select * 所有列，目前只得到了sno的值，还要得到sname,sex,height等，因此需要再读一次编号为161的表页，里面存放了sno之外的值

![](https://via.placeholder.com/800x600?text=Image+e8841577efd3bd23)

sno建立索引后，执行select * from stu where sno=13查询过程如下：

第四步 读取161号表页，获得sname,sex,height等值

![](https://via.placeholder.com/800x600?text=Image+bcc53cd91a5c0a5a)

以上4步，只读取了3个索引页1个表页，共4个页，比读取所有表页（5000个页），按照sno=13挨个翻一遍效率要高，这也是有些情况下索引可以加速查询的原因


